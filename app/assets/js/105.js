(self.webpackChunkmarketplace_template_poc=self.webpackChunkmarketplace_template_poc||[]).push([[105],{2567:function(N){N.exports=function(n){if(typeof n!="number"||isNaN(n))throw new TypeError("Expected a number, got "+typeof n);var s=n<0,u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(s&&(n=-n),n<1)return(s?"-":"")+n+" B";var S=Math.min(Math.floor(Math.log(n)/Math.log(1024)),u.length-1);n=Number(n/Math.pow(1024,S));var f=u[S];return n>=10||n%1==0?(s?"-":"")+n.toFixed(0)+" "+f:(s?"-":"")+n.toFixed(1)+" "+f}},5251:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.defineProperties,S=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(H,X,re)=>X in H?s(H,X,{enumerable:!0,configurable:!0,writable:!0,value:re}):H[X]=re,l=(H,X)=>{for(var re in X||(X={}))g.call(X,re)&&m(H,re,X[re]);if(f)for(var re of f(X))p.call(X,re)&&m(H,re,X[re]);return H},U=(H,X)=>u(H,S(X)),k,F,b,P,G;function z(H,X){if(!Object.prototype.hasOwnProperty.call(H,X))throw new TypeError("attempted to use private field on non-instance");return H}var _=0;function y(H){return"__private_"+_+++"_"+H}const{nanoid:c}=n(4374),{Provider:O,RequestClient:A,Socket:te}=n(5563),V=n(125),W=n(8204),Q=n(9281),T=n(4478),M=n(767),K=n(757),{internalRateLimitedQueue:ie}=n(3879);function Y(H,X){if(K(H))return new M(X,H);const re=new Error("Upload error");return re.cause=X,re.request=H,re}function J(H){return H.data.slice(0,H.data.size,H.meta.type)}function le(H,X,re){(Array.isArray(re.metaFields)?re.metaFields:Object.keys(X)).forEach(E=>{H.append(E,X[E])})}function he(H,X){const re=new FormData;le(re,H.meta,X);const v=J(H);return H.name?re.append(X.fieldName,v,H.meta.name):re.append(X.fieldName,v),re}const be=H=>H.data;N.exports=(k=y("getOptions"),F=y("addEventHandlerForFile"),b=y("addEventHandlerIfFileStillExists"),P=y("uploadLocalFile"),G=y("uploadRemoteFile"),class{constructor(X,re){Object.defineProperty(this,G,{value:we}),Object.defineProperty(this,P,{value:Ae}),Object.defineProperty(this,b,{value:ke}),Object.defineProperty(this,F,{value:ge}),Object.defineProperty(this,k,{value:pe}),this.uppy=X,this.opts=l({validateStatus(v){return v>=200&&v<300}},re),this.requests=re[ie],this.uploaderEvents=Object.create(null),this.i18n=re.i18n}uploadFile(X,re,v){const E=this.uppy.getFile(X);if(E.error)throw new Error(E.error);return E.isRemote?z(this,G)[G](E,re,v):z(this,P)[P](E,re,v)}});function pe(H){var X;const{uppy:re}=this,v=re.getState().xhrUpload;return U(l(l(l({},this.opts),v||{}),H.xhrUpload||{}),{headers:l(l(l({},this.opts.headers),v==null?void 0:v.headers),(X=H.xhrUpload)==null?void 0:X.headers)})}function ge(H,X,re){this.uploaderEvents[X].on(H,v=>{X===v&&re()})}function ke(H,X,re){this.uploaderEvents[X].on(H,()=>{this.uppy.getFile(X)&&re()})}function Ae(H,X,re){const v=z(this,k)[k](H);return this.uppy.log(`uploading ${X} of ${re}`),new Promise((E,a)=>{const w=v.formData?he(H,v):be(H,v),R=new XMLHttpRequest;this.uploaderEvents[H.id]=new Q(this.uppy);const B=new T(v.timeout,()=>{R.abort(),de.done();const ce=new Error(this.i18n("timedOut",{seconds:Math.ceil(v.timeout/1e3)}));this.uppy.emit("upload-error",H,ce),a(ce)}),oe=c();R.upload.addEventListener("loadstart",()=>{this.uppy.log(`[AwsS3/XHRUpload] ${oe} started`)}),R.upload.addEventListener("progress",ce=>{this.uppy.log(`[AwsS3/XHRUpload] ${oe} progress: ${ce.loaded} / ${ce.total}`),B.progress(),ce.lengthComputable&&this.uppy.emit("upload-progress",H,{uploader:this,bytesUploaded:ce.loaded,bytesTotal:ce.total})}),R.addEventListener("load",ce=>{if(this.uppy.log(`[AwsS3/XHRUpload] ${oe} finished`),B.done(),de.done(),this.uploaderEvents[H.id]&&(this.uploaderEvents[H.id].remove(),this.uploaderEvents[H.id]=null),v.validateStatus(ce.target.status,R.responseText,R)){const Pe=v.getResponseData(R.responseText,R),me=Pe[v.responseUrlFieldName],Fe={status:ce.target.status,body:Pe,uploadURL:me};return this.uppy.emit("upload-success",H,Fe),me&&this.uppy.log(`Download ${H.name} from ${me}`),E(H)}const fe=v.getResponseData(R.responseText,R),j=Y(R,v.getResponseError(R.responseText,R)),_e={status:ce.target.status,body:fe};return this.uppy.emit("upload-error",H,j,_e),a(j)}),R.addEventListener("error",()=>{this.uppy.log(`[AwsS3/XHRUpload] ${oe} errored`),B.done(),de.done(),this.uploaderEvents[H.id]&&(this.uploaderEvents[H.id].remove(),this.uploaderEvents[H.id]=null);const ce=Y(R,v.getResponseError(R.responseText,R));return this.uppy.emit("upload-error",H,ce),a(ce)}),R.open(v.method.toUpperCase(),v.endpoint,!0),R.withCredentials=v.withCredentials,v.responseType!==""&&(R.responseType=v.responseType),Object.keys(v.headers).forEach(ce=>{R.setRequestHeader(ce,v.headers[ce])});const de=this.requests.run(()=>(R.send(w),()=>{B.done(),R.abort()}),{priority:1});z(this,F)[F]("file-removed",H.id,()=>{de.abort(),a(new Error("File removed"))}),z(this,b)[b]("cancel-all",H.id,()=>{de.abort(),a(new Error("Upload cancelled"))})})}function we(H){const X=z(this,k)[k](H),re=Array.isArray(X.metaFields)?X.metaFields:Object.keys(H.meta),v=H.remote.providerOptions.provider?O:A;return new v(this.uppy,H.remote.providerOptions).post(H.remote.url,U(l({},H.remote.body),{endpoint:X.endpoint,size:H.data.size,fieldname:X.fieldName,metadata:Object.fromEntries(re.map(a=>[a,H.meta[a]])),httpMethod:X.method,useFormData:X.formData,headers:X.headers})).then(a=>new Promise((w,R)=>{const{token:B}=a,oe=W(H.remote.companionUrl),de=new te({target:`${oe}/api/${B}`,autoOpen:!1});this.uploaderEvents[H.id]=new Q(this.uppy);const ce=this.requests.run(()=>(de.open(),H.isPaused&&de.send("pause",{}),()=>de.close()));z(this,F)[F]("file-removed",H.id,()=>{de.send("pause",{}),ce.abort(),w(`upload ${H.id} was removed`)}),z(this,b)[b]("cancel-all",H.id,()=>{de.send("pause",{}),ce.abort(),w(`upload ${H.id} was canceled`)}),z(this,F)[F]("upload-retry",H.id,()=>{de.send("pause",{}),de.send("resume",{})}),z(this,b)[b]("retry-all",H.id,()=>{de.send("pause",{}),de.send("resume",{})}),de.on("progress",fe=>V(this,fe,H)),de.on("success",fe=>{const j=X.getResponseData(fe.response.responseText,fe.response),_e=j[X.responseUrlFieldName],Pe={status:fe.response.status,body:j,uploadURL:_e,bytesUploaded:fe.bytesUploaded};return this.uppy.emit("upload-success",H,Pe),ce.done(),this.uploaderEvents[H.id]&&(this.uploaderEvents[H.id].remove(),this.uploaderEvents[H.id]=null),w()}),de.on("error",fe=>{const j=fe.response,_e=j?X.getResponseError(j.responseText,j):Object.assign(new Error(fe.error.message),{cause:fe.error});this.uppy.emit("upload-error",H,_e),ce.done(),this.uploaderEvents[H.id]&&(this.uploaderEvents[H.id].remove(),this.uploaderEvents[H.id]=null),R(_e)})}).catch(w=>(this.uppy.emit("upload-error",H,w),Promise.reject(w))))}},4222:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(Y,J,le)=>J in Y?s(Y,J,{enumerable:!0,configurable:!0,writable:!0,value:le}):Y[J]=le,p=(Y,J)=>{for(var le in J||(J={}))S.call(J,le)&&g(Y,le,J[le]);if(u)for(var le of u(J))f.call(J,le)&&g(Y,le,J[le]);return Y},m,l,U,k,F,b;function P(Y,J){if(!Object.prototype.hasOwnProperty.call(Y,J))throw new TypeError("attempted to use private field on non-instance");return Y}var G=0;function z(Y){return"__private_"+G+++"_"+Y}const{BasePlugin:_}=n(9046),{RateLimitedQueue:y,internalRateLimitedQueue:c}=n(3879),O=n(7875),{RequestClient:A}=n(5563),te=n(5251),V=n(405);function W(Y,J){return new URL(J,Y||void 0).toString()}function Q(Y,J){const le=Y.indexOf(`<${J}>`),he=Y.indexOf(`</${J}>`,le);return le!==-1&&he!==-1?Y.slice(le+J.length+2,he):""}function T(Y){if(Y&&Y.error){const J=new Error(Y.message);throw Object.assign(J,Y.error),J}return Y}function M(Y,J){if(!(J!=null&&typeof J.url=="string"&&(typeof J.fields=="object"||J.fields==null)))throw new TypeError(`AwsS3: got incorrect result from 'getUploadParameters()' for file '${Y.name}', expected an object '{ url, method, fields, headers }' but got '${JSON.stringify(J)}' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);if(!(J.method==null||/^p(u|os)t$/i.test(J.method)))throw new TypeError(`AwsS3: got incorrect method from 'getUploadParameters()' for file '${Y.name}', expected  'put' or 'post' but got '${J.method}' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`)}function K(Y,J){if(!V(Y,J))return;const le=Q(Y,"Message");return new Error(le)}let ie=!1;N.exports=(b=(l=z("client"),U=z("requests"),k=z("uploader"),F=z("handleUpload"),m=class extends _{constructor(J,le){super(J,le);Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,U,{writable:!0,value:void 0}),Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,F,{writable:!0,value:be=>{const pe=Object.create(null);function ge(we){var H;const{id:X}=we;(H=pe[X])==null||H.abort()}this.uppy.on("file-removed",ge),be.forEach(we=>{const H=this.uppy.getFile(we);this.uppy.emit("upload-started",H)});const ke=P(this,U)[U].wrapPromiseFunction(we=>this.opts.getUploadParameters(we)),Ae=be.length;return O(be.map((we,H)=>(pe[we]=ke(this.uppy.getFile(we)),pe[we].then(X=>{delete pe[we];const re=this.uppy.getFile(we);M(re,X);const{method:v="post",url:E,fields:a,headers:w}=X,R={method:v,formData:v.toLowerCase()==="post",endpoint:E,metaFields:a?Object.keys(a):[]};return w&&(R.headers=w),this.uppy.setFileState(re.id,{meta:p(p({},re.meta),a),xhrUpload:R}),P(this,k)[k].uploadFile(re.id,H,Ae)}).catch(X=>{delete pe[we];const re=this.uppy.getFile(we);this.uppy.emit("upload-error",re,X)})))).finally(()=>{this.uppy.off("file-removed",ge)})}}),this.type="uploader",this.id=this.opts.id||"AwsS3",this.title="AWS S3",this.defaultLocale={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};const he={timeout:30*1e3,limit:0,metaFields:[],getUploadParameters:this.getUploadParameters.bind(this)};this.opts=p(p({},he),le),this.i18nInit(),P(this,l)[l]=new A(J,le),P(this,U)[U]=new y(this.opts.limit)}getUploadParameters(J){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");const le=J.meta.name,{type:he}=J.meta,be=Object.fromEntries(this.opts.metaFields.filter(ge=>J.meta[ge]!=null).map(ge=>[`metadata[${ge}]`,J.meta[ge].toString()])),pe=new URLSearchParams(p({filename:le,type:he},be));return P(this,l)[l].get(`s3/params?${pe}`).then(T)}install(){const{uppy:J}=this;J.addUploader(P(this,F)[F]);function le(be,pe){const ge=this;return V(be,pe)?{location:W(pe.responseURL,Q(be,"Location")),bucket:Q(be,"Bucket"),key:Q(be,"Key"),etag:Q(be,"ETag")}:ge.method.toUpperCase()==="POST"?(ie||(J.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),ie=!0),{location:null}):pe.responseURL?{location:pe.responseURL.replace(/\?.*$/,"")}:{location:null}}const he={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,[c]:P(this,U)[U],responseType:"text",getResponseData:this.opts.getResponseData||le,getResponseError:K};he.i18n=this.i18n,P(this,k)[k]=new te(J,he)}uninstall(){this.uppy.removeUploader(P(this,F)[F])}}),m.VERSION="2.0.3",b)},405:function(N){"use strict";function D(s){return s.replace(/;.*$/,"")}function n(s,u){const S=u.headers?u.headers["content-type"]:u.getResponseHeader("Content-Type");if(typeof S=="string"){const f=D(S).toLowerCase();if(f==="application/xml"||f==="text/xml"||f==="text/html"&&/^<\?xml /.test(s))return!0}return!1}N.exports=n},7669:function(N){"use strict";class D extends Error{constructor(){super("Authorization required");this.name="AuthError",this.isAuthError=!0}}N.exports=D},218:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(k,F,b)=>F in k?s(k,F,{enumerable:!0,configurable:!0,writable:!0,value:b}):k[F]=b,p=(k,F)=>{for(var b in F||(F={}))S.call(F,b)&&g(k,b,F[b]);if(u)for(var b of u(F))f.call(F,b)&&g(k,b,F[b]);return k};const m=n(5380),l=n(9650),U=k=>k.split("-").map(F=>F.charAt(0).toUpperCase()+F.slice(1)).join(" ");N.exports=class extends m{constructor(F,b){super(F,b);this.provider=b.provider,this.id=this.provider,this.name=this.opts.name||U(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}headers(){return Promise.all([super.headers(),this.getAuthToken()]).then(([F,b])=>{const P={};return b&&(P["uppy-auth-token"]=b),this.companionKeysParams&&(P["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),p(p({},F),P)})}onReceiveResponse(F){F=super.onReceiveResponse(F);const b=this.uppy.getPlugin(this.pluginId),G=b.getPluginState().authenticated?F.status!==401:F.status<400;return b.setPluginState({authenticated:G}),F}setAuthToken(F){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,F)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}authUrl(F={}){return this.preAuthToken&&(F.uppyPreAuthToken=this.preAuthToken),`${this.hostname}/${this.id}/connect?${new URLSearchParams(F)}`}fileUrl(F){return`${this.hostname}/${this.id}/get/${F}`}fetchPreAuthToken(){return this.companionKeysParams?this.post(`${this.id}/preauth/`,{params:this.companionKeysParams}).then(F=>{this.preAuthToken=F.token}).catch(F=>{this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${F}`,"warning")}):Promise.resolve()}list(F){return this.get(`${this.id}/list/${F||""}`)}logout(){return this.get(`${this.id}/logout`).then(F=>Promise.all([F,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(([F])=>F)}static initPlugin(F,b,P){if(F.type="acquirer",F.files=[],P&&(F.opts=p(p({},P),b)),b.serverUrl||b.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(b.companionAllowedHosts){const G=b.companionAllowedHosts;if(typeof G!="string"&&!Array.isArray(G)&&!(G instanceof RegExp))throw new TypeError(`${F.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);F.opts.companionAllowedHosts=G}else/^(?!https?:\/\/).*$/i.test(b.companionUrl)?F.opts.companionAllowedHosts=`https://${b.companionUrl.replace(/^\/\//,"")}`:F.opts.companionAllowedHosts=new URL(b.companionUrl).origin;F.storage=F.opts.storage||l}}},5380:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.defineProperties,S=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(T,M,K)=>M in T?s(T,M,{enumerable:!0,configurable:!0,writable:!0,value:K}):T[M]=K,l=(T,M)=>{for(var K in M||(M={}))g.call(M,K)&&m(T,K,M[K]);if(f)for(var K of f(M))p.call(M,K)&&m(T,K,M[K]);return T},U=(T,M)=>u(T,S(M)),k=(T,M,K)=>new Promise((ie,Y)=>{var J=be=>{try{he(K.next(be))}catch(pe){Y(pe)}},le=be=>{try{he(K.throw(be))}catch(pe){Y(pe)}},he=be=>be.done?ie(be.value):Promise.resolve(be.value).then(J,le);he((K=K.apply(T,M)).next())}),F,b,P,G,z;function _(T,M){if(!Object.prototype.hasOwnProperty.call(T,M))throw new TypeError("attempted to use private field on non-instance");return T}var y=0;function c(T){return"__private_"+y+++"_"+T}const O=n(591),A=n(7669);function te(T){return T.replace(/\/$/,"")}function V(T){return k(this,null,function*(){if(T.status===401)throw new A;const M=T.json();if(T.status<200||T.status>300){let K=`Failed request with status: ${T.status}. ${T.statusText}`;try{const ie=yield M;K=ie.message?`${K} message: ${ie.message}`:K,K=ie.requestId?`${K} request-Id: ${ie.requestId}`:K}finally{throw new Error(K)}}return M})}N.exports=(z=(b=c("getPostResponseFunc"),P=c("getUrl"),G=c("errorHandler"),F=class xt{constructor(M,K){Object.defineProperty(this,G,{value:Q}),Object.defineProperty(this,P,{value:W}),Object.defineProperty(this,b,{writable:!0,value:ie=>Y=>ie?Y:this.onReceiveResponse(Y)}),this.uppy=M,this.opts=K,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}get hostname(){const{companion:M}=this.uppy.getState(),K=this.opts.companionUrl;return te(M&&M[K]?M[K]:K)}headers(){const M=this.opts.companionHeaders||{};return Promise.resolve(l(l({},xt.defaultHeaders),M))}onReceiveResponse(M){const ie=this.uppy.getState().companion||{},Y=this.opts.companionUrl,{headers:J}=M;return J.has("i-am")&&J.get("i-am")!==ie[Y]&&this.uppy.setState({companion:U(l({},ie),{[Y]:J.get("i-am")})}),M}preflight(M){return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(_(this,P)[P](M),{method:"OPTIONS"}).then(K=>(K.headers.has("access-control-allow-headers")&&(this.allowedHeaders=K.headers.get("access-control-allow-headers").split(",").map(ie=>ie.trim().toLowerCase())),this.preflightDone=!0,this.allowedHeaders.slice())).catch(K=>(this.uppy.log(`[CompanionClient] unable to make preflight request ${K}`,"warning"),this.preflightDone=!0,this.allowedHeaders.slice()))}preflightAndHeaders(M){return Promise.all([this.preflight(M),this.headers()]).then(([K,ie])=>(Object.keys(ie).forEach(Y=>{K.includes(Y.toLowerCase())||(this.uppy.log(`[CompanionClient] excluding disallowed header ${Y}`),delete ie[Y])}),ie))}get(M,K){const ie="get";return this.preflightAndHeaders(M).then(Y=>O(_(this,P)[P](M),{method:ie,headers:Y,credentials:this.opts.companionCookiesRule||"same-origin"})).then(_(this,b)[b](K)).then(V).catch(_(this,G)[G](ie,M))}post(M,K,ie){const Y="post";return this.preflightAndHeaders(M).then(J=>O(_(this,P)[P](M),{method:Y,headers:J,credentials:this.opts.companionCookiesRule||"same-origin",body:JSON.stringify(K)})).then(_(this,b)[b](ie)).then(V).catch(_(this,G)[G](Y,M))}delete(M,K,ie){const Y="delete";return this.preflightAndHeaders(M).then(J=>O(`${this.hostname}/${M}`,{method:Y,headers:J,credentials:this.opts.companionCookiesRule||"same-origin",body:K?JSON.stringify(K):null})).then(_(this,b)[b](ie)).then(V).catch(_(this,G)[G](Y,M))}}),F.VERSION="2.0.1",F.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${F.VERSION}`},z);function W(T){return/^(https?:|)\/\//.test(T)?T:`${this.hostname}/${T}`}function Q(T,M){return K=>{var ie;if(!((ie=K)!=null&&ie.isAuthError)){const Y=new Error(`Could not ${T} ${_(this,P)[P](M)}`);Y.cause=K,K=Y}return Promise.reject(K)}}},893:function(N,D,n){"use strict";const s=n(5380),u=S=>S.split("-").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" ");N.exports=class extends s{constructor(f,g){super(f,g);this.provider=g.provider,this.id=this.provider,this.name=this.opts.name||u(this.id),this.pluginId=this.opts.pluginId}fileUrl(f){return`${this.hostname}/search/${this.id}/get/${f}`}search(f,g){return g=g?`&${g}`:"",this.get(`search/${this.id}/list?q=${encodeURIComponent(f)}${g}`)}}},4199:function(N,D,n){"use strict";var s,u,S,f,g;let p,m;function l(b,P){if(!Object.prototype.hasOwnProperty.call(b,P))throw new TypeError("attempted to use private field on non-instance");return b}var U=0;function k(b){return"__private_"+U+++"_"+b}const F=n(4944);N.exports=(s=k("queued"),u=k("emitter"),S=k("isOpen"),f=k("socket"),g=k("handleMessage"),p=Symbol.for("uppy test: getSocket"),m=Symbol.for("uppy test: getQueued"),class{constructor(P){Object.defineProperty(this,s,{writable:!0,value:[]}),Object.defineProperty(this,u,{writable:!0,value:F()}),Object.defineProperty(this,S,{writable:!0,value:!1}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:G=>{try{const z=JSON.parse(G.data);this.emit(z.action,z.payload)}catch(z){console.log(z)}}}),this.opts=P,(!P||P.autoOpen!==!1)&&this.open()}get isOpen(){return l(this,S)[S]}[p](){return l(this,f)[f]}[m](){return l(this,s)[s]}open(){l(this,f)[f]=new WebSocket(this.opts.target),l(this,f)[f].onopen=()=>{for(l(this,S)[S]=!0;l(this,s)[s].length>0&&l(this,S)[S];){const P=l(this,s)[s].shift();this.send(P.action,P.payload)}},l(this,f)[f].onclose=()=>{l(this,S)[S]=!1},l(this,f)[f].onmessage=l(this,g)[g]}close(){var P;(P=l(this,f)[f])==null||P.close()}send(P,G){if(!l(this,S)[S]){l(this,s)[s].push({action:P,payload:G});return}l(this,f)[f].send(JSON.stringify({action:P,payload:G}))}on(P,G){l(this,u)[u].on(P,G)}emit(P,G){l(this,u)[u].emit(P,G)}once(P,G){l(this,u)[u].once(P,G)}})},5563:function(N,D,n){"use strict";const s=n(5380),u=n(218),S=n(893),f=n(4199);N.exports={RequestClient:s,Provider:u,SearchProvider:S,Socket:f}},9650:function(N){"use strict";N.exports.setItem=(D,n)=>new Promise(s=>{localStorage.setItem(D,n),s()}),N.exports.getItem=D=>Promise.resolve(localStorage.getItem(D)),N.exports.removeItem=D=>new Promise(n=>{localStorage.removeItem(D),n()})},8570:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.defineProperties,S=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(F,b,P)=>b in F?s(F,b,{enumerable:!0,configurable:!0,writable:!0,value:P}):F[b]=P,l=(F,b)=>{for(var P in b||(b={}))g.call(b,P)&&m(F,P,b[P]);if(f)for(var P of f(b))p.call(b,P)&&m(F,P,b[P]);return F},U=(F,b)=>u(F,S(b));const k=n(9082);N.exports=class{constructor(b,P={}){this.uppy=b,this.opts=P}getPluginState(){const{plugins:b}=this.uppy.getState();return b[this.id]||{}}setPluginState(b){const{plugins:P}=this.uppy.getState();this.uppy.setState({plugins:U(l({},P),{[this.id]:l(l({},P[this.id]),b)})})}setOptions(b){this.opts=l(l({},this.opts),b),this.setPluginState(),this.i18nInit()}i18nInit(){const b=new k([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=b.translate.bind(b),this.i18nArray=b.translateArray.bind(b),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}}},143:function(N,D,n){"use strict";function s(k,F){if(!Object.prototype.hasOwnProperty.call(k,F))throw new TypeError("attempted to use private field on non-instance");return k}var u=0;function S(k){return"__private_"+u+++"_"+k}const{render:f}=n(3233),g=n(8079),p=n(8570);function m(k){let F=null,b=null;return(...P)=>(b=P,F||(F=Promise.resolve().then(()=>(F=null,k(...b)))),F)}var l=S("updateUI");class U extends p{constructor(...F){super(...F);Object.defineProperty(this,l,{writable:!0,value:void 0})}mount(F,b){const P=b.id,G=g(F);if(G){this.isTargetDOMEl=!0;const y=document.createDocumentFragment();return s(this,l)[l]=m(c=>{!this.uppy.getPlugin(this.id)||(f(this.render(c),y),this.afterUpdate())}),this.uppy.log(`Installing ${P} to a DOM element '${F}'`),this.opts.replaceTargetContent&&(G.innerHTML=""),f(this.render(this.uppy.getState()),y),this.el=y.firstElementChild,G.appendChild(y),this.onMount(),this.el}let z;if(typeof F=="object"&&F instanceof U)z=F;else if(typeof F=="function"){const y=F;this.uppy.iteratePlugins(c=>{if(c instanceof y)return z=c,!1})}if(z)return this.uppy.log(`Installing ${P} to ${z.id}`),this.parent=z,this.el=z.addTarget(b),this.onMount(),this.el;this.uppy.log(`Not installing ${P}`);let _=`Invalid target option given to ${P}.`;throw typeof F=="function"?_+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":_+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(_)}update(F){if(this.el!=null){var b,P;(b=(P=s(this,l))[l])==null||b.call(P,F)}}unmount(){if(this.isTargetDOMEl){var F;(F=this.el)==null||F.remove()}this.onUnmount()}onMount(){}onUnmount(){}}N.exports=U},6774:function(N){"use strict";N.exports=function(n,s){return s.name?s.name:n.split("/")[0]==="image"?`${n.split("/")[0]}.${n.split("/")[1]}`:"noname"}},9046:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.defineProperties,S=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(ne,h,I)=>h in ne?s(ne,h,{enumerable:!0,configurable:!0,writable:!0,value:I}):ne[h]=I,l=(ne,h)=>{for(var I in h||(h={}))g.call(h,I)&&m(ne,I,h[I]);if(f)for(var I of f(h))p.call(h,I)&&m(ne,I,h[I]);return ne},U=(ne,h)=>u(ne,S(h)),k=(ne,h,I)=>new Promise((L,q)=>{var se=Se=>{try{Te(I.next(Se))}catch(ve){q(ve)}},ue=Se=>{try{Te(I.throw(Se))}catch(ve){q(ve)}},Te=Se=>Se.done?L(Se.value):Promise.resolve(Se.value).then(se,ue);Te((I=I.apply(ne,h)).next())});let F,b;function P(ne,h){if(!Object.prototype.hasOwnProperty.call(ne,h))throw new TypeError("attempted to use private field on non-instance");return ne}var G=0;function z(ne){return"__private_"+G+++"_"+ne}const _=n(9082),y=n(4944),{nanoid:c}=n(4374),O=n(6818),A=n(2567),te=n(8385),V=n(2286),W=n(9590),Q=n(8455),T=n(3746),M=n(7160),K=n(6774),{justErrorsLogger:ie,debugLogger:Y}=n(5669),J=n(143),le=n(8570);class he extends Error{constructor(...h){super(...h);this.isRestriction=!0}}typeof AggregateError=="undefined"&&(globalThis.AggregateError=class extends Error{constructor(h,I){super(h);this.errors=I}});class be extends AggregateError{constructor(...h){super(...h);this.isRestriction=!0}}var pe=z("plugins"),ge=z("storeUnsubscribe"),ke=z("emitter"),Ae=z("preProcessors"),we=z("uploaders"),H=z("postProcessors"),X=z("checkRestrictions"),re=z("checkMinNumberOfFiles"),v=z("checkRequiredMetaFields"),E=z("showOrLogErrorAndThrow"),a=z("assertNewUploadAllowed"),w=z("checkAndCreateFileStateObject"),R=z("startIfAutoProceed"),B=z("addListeners"),oe=z("updateOnlineStatus"),de=z("createUpload"),ce=z("getUpload"),fe=z("removeUpload"),j=z("runUpload");F=Symbol.for("uppy test: getPlugins"),b=Symbol.for("uppy test: createUpload");class _e{constructor(h){Object.defineProperty(this,j,{value:et}),Object.defineProperty(this,fe,{value:Ze}),Object.defineProperty(this,ce,{value:Me}),Object.defineProperty(this,de,{value:De}),Object.defineProperty(this,B,{value:je}),Object.defineProperty(this,R,{value:Be}),Object.defineProperty(this,w,{value:Ne}),Object.defineProperty(this,a,{value:xe}),Object.defineProperty(this,E,{value:Le}),Object.defineProperty(this,v,{value:Fe}),Object.defineProperty(this,re,{value:me}),Object.defineProperty(this,X,{value:Pe}),Object.defineProperty(this,pe,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,ge,{writable:!0,value:void 0}),Object.defineProperty(this,ke,{writable:!0,value:y()}),Object.defineProperty(this,Ae,{writable:!0,value:new Set}),Object.defineProperty(this,we,{writable:!0,value:new Set}),Object.defineProperty(this,H,{writable:!0,value:new Set}),Object.defineProperty(this,oe,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};const I={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},meta:{},onBeforeFileAdded:L=>L,onBeforeUpload:L=>L,store:V(),logger:ie,infoTimeout:5e3};if(this.opts=U(l(l({},I),h),{restrictions:l(l({},I.restrictions),h&&h.restrictions)}),h&&h.logger&&h.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):h&&h.debug&&(this.opts.logger=Y),this.log(`Using Core v${this.constructor.VERSION}`),this.opts.restrictions.allowedFileTypes&&this.opts.restrictions.allowedFileTypes!==null&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.calculateProgress=O(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:M(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:l({},this.opts.meta),info:[],recoveredState:null}),P(this,ge)[ge]=this.store.subscribe((L,q,se)=>{this.emit("state-update",L,q,se),this.updateAll(q)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),P(this,B)[B]()}emit(h,...I){P(this,ke)[ke].emit(h,...I)}on(h,I){return P(this,ke)[ke].on(h,I),this}once(h,I){return P(this,ke)[ke].once(h,I),this}off(h,I){return P(this,ke)[ke].off(h,I),this}updateAll(h){this.iteratePlugins(I=>{I.update(h)})}setState(h){this.store.setState(h)}getState(){return this.store.getState()}get state(){return this.getState()}setFileState(h,I){if(!this.getState().files[h])throw new Error(`Can\u2019t set state for ${h} (the file could have been removed)`);this.setState({files:U(l({},this.getState().files),{[h]:l(l({},this.getState().files[h]),I)})})}i18nInit(){const h=new _([this.defaultLocale,this.opts.locale]);this.i18n=h.translate.bind(h),this.i18nArray=h.translateArray.bind(h),this.locale=h.locale}setOptions(h){this.opts=U(l(l({},this.opts),h),{restrictions:l(l({},this.opts.restrictions),h&&h.restrictions)}),h.meta&&this.setMeta(h.meta),this.i18nInit(),h.locale&&this.iteratePlugins(I=>{I.setOptions()}),this.setState()}resetProgress(){const h={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},I=l({},this.getState().files),L={};Object.keys(I).forEach(q=>{const se=l({},I[q]);se.progress=l(l({},se.progress),h),L[q]=se}),this.setState({files:L,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(h){P(this,Ae)[Ae].add(h)}removePreProcessor(h){return P(this,Ae)[Ae].delete(h)}addPostProcessor(h){P(this,H)[H].add(h)}removePostProcessor(h){return P(this,H)[H].delete(h)}addUploader(h){P(this,we)[we].add(h)}removeUploader(h){return P(this,we)[we].delete(h)}setMeta(h){const I=l(l({},this.getState().meta),h),L=l({},this.getState().files);Object.keys(L).forEach(q=>{L[q]=U(l({},L[q]),{meta:l(l({},L[q].meta),h)})}),this.log("Adding metadata:"),this.log(h),this.setState({meta:I,files:L})}setFileMeta(h,I){const L=l({},this.getState().files);if(!L[h]){this.log("Was trying to set metadata for a file that has been removed: ",h);return}const q=l(l({},L[h].meta),I);L[h]=U(l({},L[h]),{meta:q}),this.setState({files:L})}getFile(h){return this.getState().files[h]}getFiles(){const{files:h}=this.getState();return Object.values(h)}getObjectOfFilesPerState(){const{files:h,totalProgress:I,error:L}=this.getState(),q=Object.values(h),se=q.filter(({progress:Ue})=>!Ue.uploadComplete&&Ue.uploadStarted),ue=q.filter(Ue=>!Ue.progress.uploadStarted),Te=q.filter(Ue=>Ue.progress.uploadStarted||Ue.progress.preprocess||Ue.progress.postprocess),Se=q.filter(Ue=>Ue.progress.uploadStarted),ve=q.filter(Ue=>Ue.isPaused),Re=q.filter(Ue=>Ue.progress.uploadComplete),Ce=q.filter(Ue=>Ue.error),Ie=se.filter(Ue=>!Ue.isPaused),Xe=q.filter(Ue=>Ue.progress.preprocess||Ue.progress.postprocess);return{newFiles:ue,startedFiles:Te,uploadStartedFiles:Se,pausedFiles:ve,completeFiles:Re,erroredFiles:Ce,inProgressFiles:se,inProgressNotPausedFiles:Ie,processingFiles:Xe,isUploadStarted:Se.length>0,isAllComplete:I===100&&Re.length===q.length&&Xe.length===0,isAllErrored:!!L&&Ce.length===q.length,isAllPaused:se.length!==0&&ve.length===se.length,isUploadInProgress:se.length>0,isSomeGhost:q.some(Ue=>Ue.isGhost)}}validateRestrictions(h,I){try{return P(this,X)[X](h,I),{result:!0}}catch(L){return{result:!1,reason:L.message}}}checkIfFileAlreadyExists(h){const{files:I}=this.getState();return!!(I[h]&&!I[h].isGhost)}addFile(h){P(this,a)[a](h);const{files:I}=this.getState();let L=P(this,w)[w](I,h);return I[L.id]&&I[L.id].isGhost&&(L=U(l({},I[L.id]),{data:h.data,isGhost:!1}),this.log(`Replaced the blob in the restored ghost file: ${L.name}, ${L.id}`)),this.setState({files:U(l({},I),{[L.id]:L})}),this.emit("file-added",L),this.emit("files-added",[L]),this.log(`Added file: ${L.name}, ${L.id}, mime type: ${L.type}`),P(this,R)[R](),L.id}addFiles(h){P(this,a)[a]();const I=l({},this.getState().files),L=[],q=[];for(let se=0;se<h.length;se++)try{let ue=P(this,w)[w](I,h[se]);I[ue.id]&&I[ue.id].isGhost&&(ue=U(l({},I[ue.id]),{data:h[se].data,isGhost:!1}),this.log(`Replaced blob in a ghost file: ${ue.name}, ${ue.id}`)),I[ue.id]=ue,L.push(ue)}catch(ue){ue.isRestriction||q.push(ue)}if(this.setState({files:I}),L.forEach(se=>{this.emit("file-added",se)}),this.emit("files-added",L),L.length>5?this.log(`Added batch of ${L.length} files`):Object.keys(L).forEach(se=>{this.log(`Added file: ${L[se].name}
 id: ${L[se].id}
 type: ${L[se].type}`)}),L.length>0&&P(this,R)[R](),q.length>0){let se=`Multiple errors occurred while adding files:
`;if(q.forEach(ue=>{se+=`
 * ${ue.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:q.length}),details:se},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(q,se);{const ue=new Error(se);throw ue.errors=q,ue}}}removeFiles(h,I){const{files:L,currentUploads:q}=this.getState(),se=l({},L),ue=l({},q),Te=Object.create(null);h.forEach(Ce=>{L[Ce]&&(Te[Ce]=L[Ce],delete se[Ce])});function Se(Ce){return Te[Ce]===void 0}Object.keys(ue).forEach(Ce=>{const Ie=q[Ce].fileIDs.filter(Se);if(Ie.length===0){delete ue[Ce];return}ue[Ce]=U(l({},q[Ce]),{fileIDs:Ie})});const ve={currentUploads:ue,files:se};Object.keys(se).length===0&&(ve.allowNewUpload=!0,ve.error=null,ve.recoveredState=null),this.setState(ve),this.calculateTotalProgress();const Re=Object.keys(Te);Re.forEach(Ce=>{this.emit("file-removed",Te[Ce],I)}),Re.length>5?this.log(`Removed ${Re.length} files`):this.log(`Removed files: ${Re.join(", ")}`)}removeFile(h,I=null){this.removeFiles([h],I)}pauseResume(h){if(!this.getState().capabilities.resumableUploads||this.getFile(h).uploadComplete)return;const L=!(this.getFile(h).isPaused||!1);return this.setFileState(h,{isPaused:L}),this.emit("upload-pause",h,L),L}pauseAll(){const h=l({},this.getState().files);Object.keys(h).filter(L=>!h[L].progress.uploadComplete&&h[L].progress.uploadStarted).forEach(L=>{const q=U(l({},h[L]),{isPaused:!0});h[L]=q}),this.setState({files:h}),this.emit("pause-all")}resumeAll(){const h=l({},this.getState().files);Object.keys(h).filter(L=>!h[L].progress.uploadComplete&&h[L].progress.uploadStarted).forEach(L=>{const q=U(l({},h[L]),{isPaused:!1,error:null});h[L]=q}),this.setState({files:h}),this.emit("resume-all")}retryAll(){const h=l({},this.getState().files),I=Object.keys(h).filter(q=>h[q].error);if(I.forEach(q=>{const se=U(l({},h[q]),{isPaused:!1,error:null});h[q]=se}),this.setState({files:h,error:null}),this.emit("retry-all",I),I.length===0)return Promise.resolve({successful:[],failed:[]});const L=P(this,de)[de](I,{forceAllowNewUpload:!0});return P(this,j)[j](L)}cancelAll(){this.emit("cancel-all");const{files:h}=this.getState(),I=Object.keys(h);I.length&&this.removeFiles(I,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}retryUpload(h){this.setFileState(h,{error:null,isPaused:!1}),this.emit("upload-retry",h);const I=P(this,de)[de]([h],{forceAllowNewUpload:!0});return P(this,j)[j](I)}reset(){this.cancelAll()}logout(){this.iteratePlugins(h=>{h.provider&&h.provider.logout&&h.provider.logout()})}calculateProgress(h,I){if(!this.getFile(h.id)){this.log(`Not setting progress for a file that has been removed: ${h.id}`);return}const L=Number.isFinite(I.bytesTotal)&&I.bytesTotal>0;this.setFileState(h.id,{progress:U(l({},this.getFile(h.id).progress),{bytesUploaded:I.bytesUploaded,bytesTotal:I.bytesTotal,percentage:L?Math.round(I.bytesUploaded/I.bytesTotal*100):0})}),this.calculateTotalProgress()}calculateTotalProgress(){const I=this.getFiles().filter(ve=>ve.progress.uploadStarted||ve.progress.preprocess||ve.progress.postprocess);if(I.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const L=I.filter(ve=>ve.progress.bytesTotal!=null),q=I.filter(ve=>ve.progress.bytesTotal==null);if(L.length===0){const ve=I.length*100,Re=q.reduce((Ie,Xe)=>Ie+Xe.progress.percentage,0),Ce=Math.round(Re/ve*100);this.setState({totalProgress:Ce});return}let se=L.reduce((ve,Re)=>ve+Re.progress.bytesTotal,0);const ue=se/L.length;se+=ue*q.length;let Te=0;L.forEach(ve=>{Te+=ve.progress.bytesUploaded}),q.forEach(ve=>{Te+=ue*(ve.progress.percentage||0)/100});let Se=se===0?0:Math.round(Te/se*100);Se>100&&(Se=100),this.setState({totalProgress:Se}),this.emit("progress",Se)}updateOnlineStatus(){(typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(h,I){if(typeof h!="function"){const ue=`Expected a plugin class, but got ${h===null?"null":typeof h}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(ue)}const L=new h(this,I),q=L.id;if(!q)throw new Error("Your plugin must have an id");if(!L.type)throw new Error("Your plugin must have a type");const se=this.getPlugin(q);if(se){const ue=`Already found a plugin named '${se.id}'. Tried to use: '${q}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(ue)}return h.VERSION&&this.log(`Using ${q} v${h.VERSION}`),L.type in P(this,pe)[pe]?P(this,pe)[pe][L.type].push(L):P(this,pe)[pe][L.type]=[L],L.install(),this}getPlugin(h){for(const I of Object.values(P(this,pe)[pe])){const L=I.find(q=>q.id===h);if(L!=null)return L}}[F](h){return P(this,pe)[pe][h]}iteratePlugins(h){Object.values(P(this,pe)[pe]).flat(1).forEach(h)}removePlugin(h){this.log(`Removing plugin ${h.id}`),this.emit("plugin-remove",h),h.uninstall&&h.uninstall();const I=P(this,pe)[pe][h.type],L=I.findIndex(ue=>ue.id===h.id);L!==-1&&I.splice(L,1);const q=this.getState(),se={plugins:U(l({},q.plugins),{[h.id]:void 0})};this.setState(se)}close(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.reset(),P(this,ge)[ge](),this.iteratePlugins(h=>{this.removePlugin(h)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",P(this,oe)[oe]),window.removeEventListener("offline",P(this,oe)[oe]))}hideInfo(){const{info:h}=this.getState();this.setState({info:h.slice(1)}),this.emit("info-hidden")}info(h,I="info",L=3e3){const q=typeof h=="object";this.setState({info:[...this.getState().info,{type:I,message:q?h.message:h,details:q?h.details:null}]}),setTimeout(()=>this.hideInfo(),L),this.emit("info-visible")}log(h,I){const{logger:L}=this.opts;switch(I){case"error":L.error(h);break;case"warning":L.warn(h);break;default:L.debug(h);break}}restore(h){return this.log(`Core: attempting to restore upload "${h}"`),this.getState().currentUploads[h]?P(this,j)[j](h):(P(this,fe)[fe](h),Promise.reject(new Error("Nonexistent upload")))}[b](...h){return P(this,de)[de](...h)}addResultData(h,I){if(!P(this,ce)[ce](h)){this.log(`Not setting result for an upload that has been removed: ${h}`);return}const{currentUploads:L}=this.getState(),q=U(l({},L[h]),{result:l(l({},L[h].result),I)});this.setState({currentUploads:U(l({},L),{[h]:q})})}upload(){var h;(h=P(this,pe)[pe].uploader)!=null&&h.length||this.log("No uploader type plugins are used","warning");let{files:I}=this.getState();const L=this.opts.onBeforeUpload(I);return L===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(L&&typeof L=="object"&&(I=L,this.setState({files:I})),Promise.resolve().then(()=>{P(this,re)[re](I),P(this,v)[v](I)}).catch(q=>{P(this,E)[E](q)}).then(()=>{const{currentUploads:q}=this.getState(),se=Object.values(q).flatMap(Se=>Se.fileIDs),ue=[];Object.keys(I).forEach(Se=>{const ve=this.getFile(Se);!ve.progress.uploadStarted&&se.indexOf(Se)===-1&&ue.push(ve.id)});const Te=P(this,de)[de](ue);return P(this,j)[j](Te)}).catch(q=>{P(this,E)[E](q,{showInformer:!1})}))}}function Pe(ne,h=this.getFiles()){const{maxFileSize:I,minFileSize:L,maxTotalFileSize:q,maxNumberOfFiles:se,allowedFileTypes:ue}=this.opts.restrictions;if(se&&h.length+1>se)throw new he(`${this.i18n("youCanOnlyUploadX",{smart_count:se})}`);if(ue&&!ue.some(Se=>Se.indexOf("/")>-1?ne.type?te(ne.type.replace(/;.*?$/,""),Se):!1:Se[0]==="."&&ne.extension?ne.extension.toLowerCase()===Se.substr(1).toLowerCase():!1)){const Se=ue.join(", ");throw new he(this.i18n("youCanOnlyUploadFileTypes",{types:Se}))}if(q&&ne.size!=null){let Te=0;if(Te+=ne.size,h.forEach(Se=>{Te+=Se.size}),Te>q)throw new he(this.i18n("exceedsSize",{size:A(q),file:ne.name}))}if(I&&ne.size!=null&&ne.size>I)throw new he(this.i18n("exceedsSize",{size:A(I),file:ne.name}));if(L&&ne.size!=null&&ne.size<L)throw new he(this.i18n("inferiorSize",{size:A(L)}))}function me(ne){const{minNumberOfFiles:h}=this.opts.restrictions;if(Object.keys(ne).length<h)throw new he(`${this.i18n("youHaveToAtLeastSelectX",{smart_count:h})}`)}function Fe(ne){const{requiredMetaFields:h}=this.opts.restrictions,{hasOwnProperty:I}=Object.prototype,L=[];for(const q of Object.keys(ne)){const se=this.getFile(q);for(let ue=0;ue<h.length;ue++)if(!I.call(se.meta,h[ue])||se.meta[h[ue]]===""){const Te=new he(`${this.i18n("missingRequiredMetaFieldOnFile",{fileName:se.name})}`);L.push(Te),P(this,E)[E](Te,{file:se,showInformer:!1,throwErr:!1})}}if(L.length)throw new be(`${this.i18n("missingRequiredMetaField")}`,L)}function Le(ne,{showInformer:h=!0,file:I=null,throwErr:L=!0}={}){const q=typeof ne=="object"?ne.message:ne,se=typeof ne=="object"&&ne.details?ne.details:"";let ue=q;if(se&&(ue+=` ${se}`),ne.isRestriction?(this.log(ue),this.emit("restriction-failed",I,ne)):this.log(ue,"error"),h&&this.info({message:q,details:se},"error",this.opts.infoTimeout),L)throw typeof ne=="object"?ne:new Error(ne)}function xe(ne){const{allowNewUpload:h}=this.getState();h===!1&&P(this,E)[E](new he(this.i18n("noMoreFilesAllowed")),{file:ne})}function Ne(ne,h){const I=W(h),L=K(I,h),q=Q(L).extension,se=Boolean(h.isRemote),ue=T(U(l({},h),{type:I}));if(this.checkIfFileAlreadyExists(ue)){const Ce=new he(this.i18n("noDuplicates",{fileName:L}));P(this,E)[E](Ce,{file:h})}const Te=h.meta||{};Te.name=L,Te.type=I;const Se=Number.isFinite(h.data.size)?h.data.size:null;let ve={source:h.source||"",id:ue,name:L,extension:q||"",meta:l(l({},this.getState().meta),Te),type:I,data:h.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:Se,uploadComplete:!1,uploadStarted:null},size:Se,isRemote:se,remote:h.remote||"",preview:h.preview};const Re=this.opts.onBeforeFileAdded(ve,ne);Re===!1?P(this,E)[E](new he("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,fileDescriptor:h}):typeof Re=="object"&&Re!==null&&(ve=Re);try{const Ce=Object.keys(ne).map(Ie=>ne[Ie]);P(this,X)[X](ve,Ce)}catch(Ce){P(this,E)[E](Ce,{file:ve})}return ve}function Be(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(ne=>{ne.isRestriction||this.log(ne.stack||ne.message||ne)})},4))}function je(){const ne=(h,I,L)=>{let q=h.message||"Unknown error";h.details&&(q+=` ${h.details}`),this.setState({error:q}),I!=null&&I.id in this.getState().files&&this.setFileState(I.id,{error:q,response:L})};this.on("error",ne),this.on("upload-error",(h,I,L)=>{if(ne(I,h,L),typeof I=="object"&&I.message){const q=new Error(I.message);q.details=I.message,I.details&&(q.details+=` ${I.details}`),q.message=this.i18n("failedToUpload",{file:h.name}),P(this,E)[E](q,{throwErr:!1})}else P(this,E)[E](I,{throwErr:!1})}),this.on("upload",()=>{this.setState({error:null})}),this.on("upload-started",h=>{if(!this.getFile(h.id)){this.log(`Not setting progress for a file that has been removed: ${h.id}`);return}this.setFileState(h.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:h.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(h,I)=>{if(!this.getFile(h.id)){this.log(`Not setting progress for a file that has been removed: ${h.id}`);return}const L=this.getFile(h.id).progress;this.setFileState(h.id,{progress:U(l({},L),{postprocess:P(this,H)[H].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:L.bytesTotal}),response:I,uploadURL:I.uploadURL,isPaused:!1}),h.size==null&&this.setFileState(h.id,{size:I.bytesUploaded||L.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(h,I)=>{if(!this.getFile(h.id)){this.log(`Not setting progress for a file that has been removed: ${h.id}`);return}this.setFileState(h.id,{progress:U(l({},this.getFile(h.id).progress),{preprocess:I})})}),this.on("preprocess-complete",h=>{if(!this.getFile(h.id)){this.log(`Not setting progress for a file that has been removed: ${h.id}`);return}const I=l({},this.getState().files);I[h.id]=U(l({},I[h.id]),{progress:l({},I[h.id].progress)}),delete I[h.id].progress.preprocess,this.setState({files:I})}),this.on("postprocess-progress",(h,I)=>{if(!this.getFile(h.id)){this.log(`Not setting progress for a file that has been removed: ${h.id}`);return}this.setFileState(h.id,{progress:U(l({},this.getState().files[h.id].progress),{postprocess:I})})}),this.on("postprocess-complete",h=>{if(!this.getFile(h.id)){this.log(`Not setting progress for a file that has been removed: ${h.id}`);return}const I=l({},this.getState().files);I[h.id]=U(l({},I[h.id]),{progress:l({},I[h.id].progress)}),delete I[h.id].progress.postprocess,this.setState({files:I})}),this.on("restored",()=>{this.calculateTotalProgress()}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",P(this,oe)[oe]),window.addEventListener("offline",P(this,oe)[oe]),setTimeout(P(this,oe)[oe],3e3))}function De(ne,h={}){const{forceAllowNewUpload:I=!1}=h,{allowNewUpload:L,currentUploads:q}=this.getState();if(!L&&!I)throw new Error("Cannot create a new upload: already uploading.");const se=c();return this.emit("upload",{id:se,fileIDs:ne}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:U(l({},q),{[se]:{fileIDs:ne,step:0,result:{}}})}),se}function Me(ne){const{currentUploads:h}=this.getState();return h[ne]}function Ze(ne){const h=l({},this.getState().currentUploads);delete h[ne],this.setState({currentUploads:h})}function et(ne){return k(this,null,function*(){let{currentUploads:h}=this.getState(),I=h[ne];const L=I.step||0,q=[...P(this,Ae)[Ae],...P(this,we)[we],...P(this,H)[H]];try{for(let ue=L;ue<q.length&&I;ue++){const Te=q[ue],Se=U(l({},I),{step:ue});this.setState({currentUploads:U(l({},h),{[ne]:Se})}),yield Te(Se.fileIDs,ne),h=this.getState().currentUploads,I=h[ne]}}catch(ue){throw this.emit("error",ue),P(this,fe)[fe](ne),ue}if(I){I.fileIDs.forEach(ve=>{const Re=this.getFile(ve);Re&&Re.progress.postprocess&&this.emit("postprocess-complete",Re)});const ue=I.fileIDs.map(ve=>this.getFile(ve)),Te=ue.filter(ve=>!ve.error),Se=ue.filter(ve=>ve.error);yield this.addResultData(ne,{successful:Te,failed:Se,uploadID:ne}),h=this.getState().currentUploads,I=h[ne]}let se;return I&&(se=I.result,this.emit("complete",se),P(this,fe)[fe](ne)),se==null&&this.log(`Not setting result for an upload that has been removed: ${ne}`),se})}_e.VERSION="2.0.3",N.exports=_e,N.exports.Uppy=_e,N.exports.UIPlugin=J,N.exports.BasePlugin=le,N.exports.debugLogger=Y},5669:function(N,D,n){"use strict";const s=n(5815),u={debug:()=>{},warn:()=>{},error:(...f)=>console.error(`[Uppy] [${s()}]`,...f)},S={debug:(...f)=>console.debug(`[Uppy] [${s()}]`,...f),warn:(...f)=>console.warn(`[Uppy] [${s()}]`,...f),error:(...f)=>console.error(`[Uppy] [${s()}]`,...f)};N.exports={justErrorsLogger:u,debugLogger:S}},7160:function(N){"use strict";N.exports=function(n){if(n==null&&(n=typeof navigator!="undefined"?navigator.userAgent:null),!n)return!0;const s=/Edge\/(\d+\.\d+)/.exec(n);if(!s)return!0;const u=s[1];let[S,f]=u.split(".");return S=parseInt(S,10),f=parseInt(f,10),S<15||S===15&&f<15063||S>18||S===18&&f>=18218}},447:function(N,D,n){"use strict";let s;const{h:u,Component:S}=n(3233);s=Symbol.for("uppy test: disable unused locale key warning");class f extends S{constructor(...p){super(...p);this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.onFileInputChange=m=>{this.props.handleInputChange(m),m.target.value=null},this.renderHiddenInput=(m,l)=>u("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:m,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:l}),this.renderMyDeviceAcquirer=()=>u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},u("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},u("g",{fill:"none",fillRule:"evenodd"},u("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),u("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),u("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderBrowseButton=(m,l)=>{const U=this.props.acquirers.length;return u("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:l,"data-uppy-super-focusable":U===0},m)},this.renderDropPasteBrowseTagline=()=>{const m=this.props.acquirers.length,l=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),U=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),k=this.props.fileManagerSelectionType,F=k.charAt(0).toUpperCase()+k.slice(1);return u("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):m>0?this.props.i18nArray(`dropPasteImport${F}`,{browseFiles:l,browseFolders:U,browse:l}):this.props.i18nArray(`dropPaste${F}`,{browseFiles:l,browseFolders:U,browse:l}))},this.renderAcquirer=m=>u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":m.id},u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"aria-controls":`uppy-DashboardContent-panel--${m.id}`,"aria-selected":this.props.activePickerPanel.id===m.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(m.id)},m.icon(),u("div",{className:"uppy-DashboardTab-name"},m.name))),this.renderAcquirers=(m,l)=>{const U=[...m],k=U.splice(m.length-2,m.length);return u("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!l&&this.renderMyDeviceAcquirer(),U.map(F=>this.renderAcquirer(F)),u("span",{role:"presentation",style:{"white-space":"nowrap"}},k.map(F=>this.renderAcquirer(F))))}}[s](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:p}=this.props,m=u("span",null,u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},u("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),u("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),l=p("poweredBy",{uppy:m});return u("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},l)}render(){return u("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,p=>{this.fileInput=p}),this.renderHiddenInput(!0,p=>{this.folderInput=p}),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),u("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&u("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}N.exports=f},8938:function(N,D,n){"use strict";const{h:s}=n(3233),u=n(7010),S=n(447),f=g=>s("div",{className:u("uppy-Dashboard-AddFilesPanel",g.className),"data-uppy-panelType":"AddFiles","aria-hidden":g.showAddFilesPanel},s("div",{className:"uppy-DashboardContent-bar"},s("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},g.i18n("addingMoreFiles")),s("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>g.toggleAddFilesPanel(!1)},g.i18n("back"))),s(S,g));N.exports=f},1660:function(N,D,n){"use strict";function s(){return s=Object.assign||function(y){for(var c=1;c<arguments.length;c++){var O=arguments[c];for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(y[A]=O[A])}return y},s.apply(this,arguments)}const{h:u}=n(3233),S=n(7010),f=n(1869),g=n(7485),p=n(447),m=n(8938),l=n(5390),U=n(2644),k=n(1947),F=n(9925),b=n(4216),P=900,G=700,z=576,_=400;N.exports=function(c){const O=c.totalFileCount===0,A=c.containerWidth>z,te=S({"uppy-Root":c.isTargetDOMEl}),V=S({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":c.disabled,"uppy-Dashboard--animateOpenClose":c.animateOpenClose,"uppy-Dashboard--isClosing":c.isClosing,"uppy-Dashboard--isDraggingOver":c.isDraggingOver,"uppy-Dashboard--modal":!c.inline,"uppy-size--md":c.containerWidth>z,"uppy-size--lg":c.containerWidth>G,"uppy-size--xl":c.containerWidth>P,"uppy-size--height-md":c.containerHeight>_,"uppy-Dashboard--isAddFilesPanelVisible":c.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":c.areInsidesReadyToBeVisible});let W=1;c.containerWidth>P?W=5:c.containerWidth>G?W=4:c.containerWidth>z&&(W=3);const Q=c.showSelectedFiles&&!O,T=c.recoveredState?Object.keys(c.recoveredState.files).length:null,M=c.files?Object.keys(c.files).filter(Y=>c.files[Y].isGhost).length:null,K=()=>M>0?c.i18n("recoveredXFiles",{smart_count:M}):c.i18n("recoveredAllFiles"),ie=u("div",{className:V,"data-uppy-theme":c.theme,"data-uppy-num-acquirers":c.acquirers.length,"data-uppy-drag-drop-supported":!c.disableLocalFiles&&f(),"aria-hidden":c.inline?"false":c.isHidden,"aria-disabled":c.disabled,"aria-label":c.inline?c.i18n("dashboardTitle"):c.i18n("dashboardWindowTitle"),onPaste:c.handlePaste,onDragOver:c.handleDragOver,onDragLeave:c.handleDragLeave,onDrop:c.handleDrop},u("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:c.handleClickOutside}),u("div",{className:"uppy-Dashboard-inner","aria-modal":!c.inline&&"true",role:!c.inline&&"dialog",style:{width:c.inline&&c.width?c.width:"",height:c.inline&&c.height?c.height:""}},c.inline?null:u("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":c.i18n("closeModal"),title:c.i18n("closeModal"),onClick:c.closeModal},u("span",{"aria-hidden":"true"},"\xD7")),u("div",{className:"uppy-Dashboard-innerWrap"},u("div",{className:"uppy-Dashboard-dropFilesHereHint"},c.i18n("dropHint")),Q&&u(k,c),T&&u("div",{className:"uppy-Dashboard-serviceMsg"},u("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},u("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},u("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),u("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),u("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),u("strong",{className:"uppy-Dashboard-serviceMsg-title"},c.i18n("sessionRestored")),u("div",{className:"uppy-Dashboard-serviceMsg-text"},K())),Q?u(g,s({},c,{itemsPerRow:W})):u(p,s({},c,{isSizeMD:A})),u(b,null,c.showAddFilesPanel?u(m,s({key:"AddFiles"},c,{isSizeMD:A})):null),u(b,null,c.fileCardFor?u(F,s({key:"FileCard"},c)):null),u(b,null,c.activePickerPanel?u(l,s({key:"Picker"},c)):null),u(b,null,c.showFileEditor?u(U,s({key:"Editor"},c)):null),u("div",{className:"uppy-Dashboard-progressindicators"},c.progressindicators.map(Y=>c.uppy.getPlugin(Y.id).render(c.state))))));return u("div",{className:te,dir:c.direction},ie)}},2644:function(N,D,n){"use strict";const{h:s}=n(3233),u=n(7010);function S(f){const g=f.files[f.fileCardFor];return s("div",{className:u("uppy-DashboardContent-panel",f.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},s("div",{className:"uppy-DashboardContent-bar"},s("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},f.i18nArray("editing",{file:s("span",{className:"uppy-DashboardContent-titleFile"},g.meta?g.meta.name:g.name)})),s("button",{className:"uppy-DashboardContent-back",type:"button",onClick:f.hideAllPanels},f.i18n("cancel")),s("button",{className:"uppy-DashboardContent-save",type:"button",onClick:f.saveFileEditor},f.i18n("save"))),s("div",{className:"uppy-DashboardContent-panelBody"},f.editors.map(p=>f.uppy.getPlugin(p.id).render(f.state))))}N.exports=S},9925:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.defineProperties,S=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(c,O,A)=>O in c?s(c,O,{enumerable:!0,configurable:!0,writable:!0,value:A}):c[O]=A,l=(c,O)=>{for(var A in O||(O={}))g.call(O,A)&&m(c,A,O[A]);if(f)for(var A of f(O))p.call(O,A)&&m(c,A,O[A]);return c},U=(c,O)=>u(c,S(O));const{h:k,Component:F}=n(3233),b=n(7010),{nanoid:P}=n(4374),G=n(5058),z=n(7453),_=n(3738);class y extends F{constructor(O){super(O);this.form=document.createElement("form"),this.updateMeta=(W,Q)=>{this.setState(({formState:T})=>({formState:U(l({},T),{[Q]:W})}))},this.handleSave=W=>{W.preventDefault();const Q=this.props.fileCardFor;this.props.saveFileCard(this.state.formState,Q)},this.handleCancel=()=>{this.props.toggleFileCard(!1)},this.saveOnEnter=W=>{if(W.keyCode===13){W.stopPropagation(),W.preventDefault();const Q=this.props.files[this.props.fileCardFor];this.props.saveFileCard(this.state.formState,Q.id)}},this.renderMetaFields=()=>{const W=this.getMetaFields()||[],Q={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return W.map(T=>{const M=`uppy-Dashboard-FileCard-input-${T.id}`,K=this.props.requiredMetaFields.includes(T.id);return k("fieldset",{key:T.id,className:"uppy-Dashboard-FileCard-fieldset"},k("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:M},T.name),T.render!==void 0?T.render({value:this.state.formState[T.id],onChange:ie=>this.updateMeta(ie,T.id),fieldCSSClasses:Q,required:K,form:this.form.id},k):k("input",{className:Q.text,id:M,form:this.form.id,type:T.type||"text",required:K,value:this.state.formState[T.id],placeholder:T.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onInput:ie=>this.updateMeta(ie.target.value,T.id),"data-uppy-super-focusable":!0}))})};const A=this.props.files[this.props.fileCardFor],te=this.getMetaFields()||[],V={};te.forEach(W=>{V[W.id]=A.meta[W.id]||""}),this.state={formState:V},this.form.id=P()}componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}getMetaFields(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}render(){const O=this.props.files[this.props.fileCardFor],A=this.props.canEditFile(O);return k("div",{className:b("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:z,onDragLeave:z,onDrop:z,onPaste:z},k("div",{className:"uppy-DashboardContent-bar"},k("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:k("span",{className:"uppy-DashboardContent-titleFile"},O.meta?O.meta.name:O.name)})),k("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),k("div",{className:"uppy-Dashboard-FileCard-inner"},k("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:G(O.type).color}},k(_,{file:O}),A&&k("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:()=>this.props.openFileEditor(O),form:this.form.id},this.props.i18n("editFile"))),k("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),k("div",{className:"uppy-Dashboard-FileCard-actions"},k("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),k("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}N.exports=y},4292:function(N,D,n){"use strict";const{h:s}=n(3233),u=n(8983);function S({file:m,uploadInProgressOrComplete:l,metaFields:U,canEditFile:k,i18n:F,onClick:b}){return!l&&U&&U.length>0||!l&&k(m)?s("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":F("editFileWithFilename",{file:m.meta.name}),title:F("editFileWithFilename",{file:m.meta.name}),onClick:()=>b()},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},s("g",{fillRule:"evenodd"},s("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),s("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),s("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function f({i18n:m,onClick:l,file:U}){return s("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":m("removeFile",{file:U.meta.name}),title:m("removeFile",{file:U.meta.name}),onClick:()=>l()},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},s("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),s("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}const g=(m,l)=>{u(l.file.uploadURL,l.i18n("copyLinkToClipboardFallback")).then(()=>{l.uppy.log("Link copied to clipboard."),l.uppy.info(l.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(l.uppy.log).then(()=>m.target.focus({preventScroll:!0}))};function p(m){return s("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":m.i18n("copyLink"),title:m.i18n("copyLink"),onClick:l=>g(l,m)},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},s("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}N.exports=function(l){const{uppy:U,file:k,uploadInProgressOrComplete:F,canEditFile:b,metaFields:P,showLinkToFileUploadResult:G,showRemoveButton:z,i18n:_,toggleFileCard:y,openFileEditor:c}=l;return s("div",{className:"uppy-Dashboard-Item-actionWrapper"},s(S,{i18n:_,file:k,uploadInProgressOrComplete:F,canEditFile:b,metaFields:P,onClick:()=>{P&&P.length>0?y(!0,k.id):c(k)}}),G&&k.uploadURL?s(p,{file:k,uppy:U}):null,z?s(f,{i18n:_,file:k,uppy:U,onClick:()=>l.uppy.removeFile(k.id,"removed-by-user")}):null)}},9839:function(N,D,n){"use strict";const{h:s}=n(3233),u=n(2567),S=n(5180),f=l=>{let U;return l.containerWidth<=352?U=35:l.containerWidth<=576?U=60:U=30,s("div",{className:"uppy-Dashboard-Item-name",title:l.file.meta.name},S(l.file.meta.name,U))},g=l=>l.file.size&&s("div",{className:"uppy-Dashboard-Item-statusSize"},u(l.file.size)),p=l=>l.file.isGhost&&s("span",null," \u2022 ",s("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:l.toggleAddFilesPanel},l.i18n("reSelect"))),m=({file:l,onClick:U})=>l.error?s("button",{className:"uppy-Dashboard-Item-errorDetails","aria-label":l.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:U,type:"button"},"?"):null;N.exports=function(U){return s("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":U.file.source},f(U),s("div",{className:"uppy-Dashboard-Item-status"},g(U),p(U),s(m,{file:U.file,onClick:()=>alert(U.file.error)})))}},6389:function(N,D,n){"use strict";const{h:s}=n(3233),u=n(3738),S=n(5058);N.exports=function(g){return s("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:S(g.file.type).color}},g.showLinkToFileUploadResult&&g.file.uploadURL&&s("a",{className:"uppy-Dashboard-Item-previewLink",href:g.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":g.file.meta.name},s("span",{hidden:!0},"props.file.meta.name")),s(u,{file:g.file}))}},8388:function(N,D,n){"use strict";const{h:s}=n(3233);function u(m){if(!m.isUploaded){if(m.error&&!m.hideRetryButton){m.uppy.retryUpload(m.file.id);return}m.resumableUploads&&!m.hidePauseResumeButton?m.uppy.pauseResume(m.file.id):m.individualCancellation&&!m.hideCancelButton&&m.uppy.removeFile(m.file.id)}}function S(m){return m.isUploaded?m.i18n("uploadComplete"):m.error?m.i18n("retryUpload"):m.resumableUploads?m.file.isPaused?m.i18n("resumeUpload"):m.i18n("pauseUpload"):m.individualCancellation?m.i18n("cancelUpload"):""}function f(m){return s("div",{className:"uppy-Dashboard-Item-progress"},s("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":S(m),title:S(m),onClick:()=>u(m)},m.children))}function g({children:m}){return s("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},m)}function p({progress:m}){const l=2*Math.PI*15;return s("g",null,s("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),s("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":l,"stroke-dashoffset":l-l/100*m}))}N.exports=function(l){if(!l.file.progress.uploadStarted)return null;if(l.isUploaded)return s("div",{className:"uppy-Dashboard-Item-progress"},s("div",{className:"uppy-Dashboard-Item-progressIndicator"},s(g,null,s("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),s("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!l.recoveredState)return l.error&&!l.hideRetryButton?s(f,l,s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},s("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),s("path",{d:"M7.9 3H10v2H7.9z"}),s("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),s("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):l.resumableUploads&&!l.hidePauseResumeButton?s(f,l,s(g,null,s(p,{progress:l.file.progress.percentage}),l.file.isPaused?s("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):s("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},s("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),s("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!l.resumableUploads&&l.individualCancellation&&!l.hideCancelButton?s(f,l,s(g,null,s(p,{progress:l.file.progress.percentage}),s("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):s("div",{className:"uppy-Dashboard-Item-progress"},s("div",{className:"uppy-Dashboard-Item-progressIndicator"},s(g,null,s(p,{progress:l.file.progress.percentage}))))}},2506:function(N,D,n){"use strict";const{h:s,Component:u}=n(3233),S=n(7010),f=n(7426),g=n(6389),p=n(8388),m=n(9839),l=n(4292);N.exports=class extends u{componentDidMount(){const{file:k}=this.props;k.preview||this.props.handleRequestThumbnail(k)}shouldComponentUpdate(k){return!f(this.props,k)}componentDidUpdate(){const{file:k}=this.props;k.preview||this.props.handleRequestThumbnail(k)}componentWillUnmount(){const{file:k}=this.props;k.preview||this.props.handleCancelThumbnail(k)}render(){const{file:k}=this.props,F=k.progress.preprocess||k.progress.postprocess,b=k.progress.uploadComplete&&!F&&!k.error,P=k.progress.uploadStarted||F,G=k.progress.uploadStarted&&!k.progress.uploadComplete||F,z=k.error||!1,{isGhost:_}=k;let y=(this.props.individualCancellation||!G)&&!b;b&&this.props.showRemoveButtonAfterComplete&&(y=!0);const c=S({"uppy-Dashboard-Item":!0,"is-inprogress":G&&!this.props.recoveredState,"is-processing":F,"is-complete":b,"is-error":!!z,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":_});return s("div",{className:c,id:`uppy_${k.id}`,role:this.props.role},s("div",{className:"uppy-Dashboard-Item-preview"},s(g,{file:k,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult}),s(p,{uppy:this.props.uppy,file:k,error:z,isUploaded:b,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),s("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},s(m,{file:k,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel}),s(l,{file:k,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:y,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:P,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}},7485:function(N,D,n){"use strict";function s(){return s=Object.assign||function(m){for(var l=1;l<arguments.length;l++){var U=arguments[l];for(var k in U)Object.prototype.hasOwnProperty.call(U,k)&&(m[k]=U[k])}return m},s.apply(this,arguments)}const u=n(7010),{h:S}=n(3233),f=n(2506),g=n(1748);function p(m,l){const U=[];let k=[];return m.forEach(F=>{k.length<l?k.push(F):(U.push(k),k=[F])}),k.length&&U.push(k),U}N.exports=m=>{const l=m.totalFileCount===0,U=u("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":l}),k=m.itemsPerRow===1?71:200,F={id:m.id,error:m.error,i18n:m.i18n,uppy:m.uppy,acquirers:m.acquirers,resumableUploads:m.resumableUploads,individualCancellation:m.individualCancellation,hideRetryButton:m.hideRetryButton,hidePauseResumeButton:m.hidePauseResumeButton,hideCancelButton:m.hideCancelButton,showLinkToFileUploadResult:m.showLinkToFileUploadResult,showRemoveButtonAfterComplete:m.showRemoveButtonAfterComplete,isWide:m.isWide,metaFields:m.metaFields,recoveredState:m.recoveredState,toggleFileCard:m.toggleFileCard,handleRequestThumbnail:m.handleRequestThumbnail,handleCancelThumbnail:m.handleCancelThumbnail},b=(_,y)=>m.files[y].isGhost-m.files[_].isGhost,P=Object.keys(m.files);m.recoveredState&&P.sort(b);const G=p(P,m.itemsPerRow);function z(_){return S("div",{role:"presentation",key:_[0]},_.map(y=>S(f,s({key:y,uppy:m.uppy},F,{role:"listitem",openFileEditor:m.openFileEditor,canEditFile:m.canEditFile,toggleAddFilesPanel:m.toggleAddFilesPanel,file:m.files[y]}))))}return S(g,{class:U,role:"list",data:G,renderRow:z,rowHeight:k})}},3738:function(N,D,n){"use strict";const{h:s}=n(3233),u=n(5058);N.exports=function(f){const{file:g}=f;if(g.preview)return s("img",{className:"uppy-Dashboard-Item-previewImg",alt:g.name,src:g.preview});const{color:p,icon:m}=u(g.type);return s("div",{className:"uppy-Dashboard-Item-previewIconWrap"},s("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:p}},m),s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},s("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}},5390:function(N,D,n){"use strict";const{h:s}=n(3233),u=n(7010),S=n(7453);function f(g){return s("div",{className:u("uppy-DashboardContent-panel",g.className),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${g.activePickerPanel.id}`,onDragOver:S,onDragLeave:S,onDrop:S,onPaste:S},s("div",{className:"uppy-DashboardContent-bar"},s("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},g.i18n("importFrom",{name:g.activePickerPanel.name})),s("button",{className:"uppy-DashboardContent-back",type:"button",onClick:g.hideAllPanels},g.i18n("cancel"))),s("div",{className:"uppy-DashboardContent-panelBody"},g.uppy.getPlugin(g.activePickerPanel.id).render(g.state)))}N.exports=f},1947:function(N,D,n){"use strict";const{h:s}=n(3233),u={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function S(p,m,l,U={}){if(p)return u.STATE_ERROR;if(m)return u.STATE_COMPLETE;if(l)return u.STATE_PAUSED;let k=u.STATE_WAITING;const F=Object.keys(U);for(let b=0;b<F.length;b++){const{progress:P}=U[F[b]];if(P.uploadStarted&&!P.uploadComplete)return u.STATE_UPLOADING;P.preprocess&&k!==u.STATE_UPLOADING&&(k=u.STATE_PREPROCESSING),P.postprocess&&k!==u.STATE_UPLOADING&&k!==u.STATE_PREPROCESSING&&(k=u.STATE_POSTPROCESSING)}return k}function f(p){switch(S(p.isAllErrored,p.isAllComplete,p.isAllPaused,p.files)){case"uploading":return p.i18n("uploadingXFiles",{smart_count:p.inProgressNotPausedFiles.length});case"preprocessing":case"postprocessing":return p.i18n("processingXFiles",{smart_count:p.processingFiles.length});case"paused":return p.i18n("uploadPaused");case"waiting":return p.i18n("xFilesSelected",{smart_count:p.newFiles.length});case"complete":return p.i18n("uploadComplete")}}function g(p){let{allowNewUpload:m}=p;return m&&p.maxNumberOfFiles&&(m=p.totalFileCount<p.maxNumberOfFiles),s("div",{className:"uppy-DashboardContent-bar"},!p.isAllComplete&&!p.hideCancelButton?s("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>p.uppy.cancelAll()},p.i18n("cancel")):s("div",null),s("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},s(f,p)),m?s("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":p.i18n("addMoreFiles"),title:p.i18n("addMoreFiles"),onClick:()=>p.toggleAddFilesPanel(!0)},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},s("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),s("span",{className:"uppy-DashboardContent-addMoreCaption"},p.i18n("addMore"))):s("div",null))}N.exports=g},4216:function(N,D,n){"use strict";const{cloneElement:s,Component:u,toChildArray:S}=n(3233),f=n(7010),g="uppy-transition-slideDownUp",p=250;class m extends u{constructor(U){super(U);this.state={cachedChildren:null,className:""}}componentWillUpdate(U){const{cachedChildren:k}=this.state,F=S(U.children)[0];if(k===F)return null;const b={cachedChildren:F};F&&!k&&(b.className=`${g}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${g}-enter ${g}-enter-active`}),this.enterTimeout=setTimeout(()=>{this.setState({className:""})},p)})),k&&!F&&this.leaveTimeout===void 0&&(b.cachedChildren=k,b.className=`${g}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${g}-leave ${g}-leave-active`}),this.leaveTimeout=setTimeout(()=>{this.setState({cachedChildren:null,className:""})},p)})),this.setState(b)}render(){const{cachedChildren:U,className:k}=this.state;return U?s(U,{className:f(k,U.props.className)}):null}}N.exports=m},1748:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.defineProperties,S=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(y,c,O)=>c in y?s(y,c,{enumerable:!0,configurable:!0,writable:!0,value:O}):y[c]=O,l=(y,c)=>{for(var O in c||(c={}))g.call(c,O)&&m(y,O,c[O]);if(f)for(var O of f(c))p.call(c,O)&&m(y,O,c[O]);return y},U=(y,c)=>u(y,S(c)),k=(y,c)=>{var O={};for(var A in y)g.call(y,A)&&c.indexOf(A)<0&&(O[A]=y[A]);if(y!=null&&f)for(var A of f(y))c.indexOf(A)<0&&p.call(y,A)&&(O[A]=y[A]);return O};function F(){return F=Object.assign||function(y){for(var c=1;c<arguments.length;c++){var O=arguments[c];for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(y[A]=O[A])}return y},F.apply(this,arguments)}const{h:b,Component:P}=n(3233),G={position:"relative",width:"100%",minHeight:"100%"},z={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class _ extends P{constructor(c){super(c);this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:c}=this.state;c!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(c){var O=c,{data:A,rowHeight:te,renderRow:V,overscanCount:W=10}=O,Q=k(O,["data","rowHeight","renderRow","overscanCount"]);const{offset:T,height:M}=this.state;let K=Math.floor(T/te),ie=Math.floor(M/te);W&&(K=Math.max(0,K-K%W),ie+=W);const Y=K+ie+4,J=A.slice(K,Y),le=U(l({},G),{height:A.length*te}),he=U(l({},z),{top:K*te});return b("div",F({onScroll:this.handleScroll},Q),b("div",{role:"presentation",style:le},b("div",{role:"presentation",style:he},J.map(V))))}}N.exports=_},2921:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.defineProperties,S=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(X,re,v)=>re in X?s(X,re,{enumerable:!0,configurable:!0,writable:!0,value:v}):X[re]=v,l=(X,re)=>{for(var v in re||(re={}))g.call(re,v)&&m(X,v,re[v]);if(f)for(var v of f(re))p.call(re,v)&&m(X,v,re[v]);return X},U=(X,re)=>u(X,S(re)),k,F,b,P,G,z,_,y;function c(X,re){if(!Object.prototype.hasOwnProperty.call(X,re))throw new TypeError("attempted to use private field on non-instance");return X}var O=0;function A(X){return"__private_"+O+++"_"+X}const{h:te}=n(3233),{UIPlugin:V}=n(9046),W=n(3330),Q=n(2158),T=n(195),M=n(9613),K=n(9212),ie=n(5169),Y=n(936),{nanoid:J}=n(4374),le=n(3729),he=n(8990),be=n(6637).default||n(6637),pe=n(9855),ge=n(1660),ke=9,Ae=27;function we(){const X={};return X.promise=new Promise((re,v)=>{X.resolve=re,X.reject=v}),X}function H(){return te("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},te("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}N.exports=(y=(F=A("openFileEditorWhenFilesAdded"),b=A("attachRenderFunctionToTarget"),P=A("isTargetSupported"),G=A("getAcquirers"),z=A("getProgressIndicators"),_=A("getEditors"),k=class extends V{constructor(re,v){super(re,v);this.removeTarget=a=>{const R=this.getPluginState().targets.filter(B=>B.id!==a.id);this.setPluginState({targets:R})},this.addTarget=a=>{const w=a.id||a.constructor.name,R=a.title||w,B=a.type;if(B!=="acquirer"&&B!=="progressindicator"&&B!=="editor"){const fe="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";this.uppy.log(fe,"error");return}const oe={id:w,name:R,type:B},ce=this.getPluginState().targets.slice();return ce.push(oe),this.setPluginState({targets:ce}),this.el},this.hideAllPanels=()=>{const a=this.getPluginState(),w={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};a.activePickerPanel===w.activePickerPanel&&a.showAddFilesPanel===w.showAddFilesPanel&&a.showFileEditor===w.showFileEditor&&a.activeOverlayType===w.activeOverlayType||this.setPluginState(w)},this.showPanel=a=>{const{targets:w}=this.getPluginState(),R=w.filter(B=>B.type==="acquirer"&&B.id===a)[0];this.setPluginState({activePickerPanel:R,activeOverlayType:"PickerPanel"})},this.canEditFile=a=>{const{targets:w}=this.getPluginState();return c(this,_)[_](w).some(B=>this.uppy.getPlugin(B.id).canEditFile(a))},this.openFileEditor=a=>{const{targets:w}=this.getPluginState(),R=c(this,_)[_](w);this.setPluginState({showFileEditor:!0,fileCardFor:a.id||null,activeOverlayType:"FileEditor"}),R.forEach(B=>{this.uppy.getPlugin(B.id).selectFile(a)})},this.saveFileEditor=()=>{const{targets:a}=this.getPluginState();c(this,_)[_](a).forEach(R=>{this.uppy.getPlugin(R.id).save()}),this.hideAllPanels()},this.openModal=()=>{const{promise:a,resolve:w}=we();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const R=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",R,!1),w()};this.el.addEventListener("animationend",R,!1)}else this.setPluginState({isHidden:!1}),w();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),a},this.closeModal=(a={})=>{const{manualClose:w=!0}=a,{isHidden:R,isClosing:B}=this.getPluginState();if(R||B)return;const{promise:oe,resolve:de}=we();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const fe=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",fe,!1),de()};this.el.addEventListener("animationend",fe,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),de();if(document.removeEventListener("keydown",this.handleKeyDownInModal),w&&this.opts.browserBackButtonClose){var ce;(ce=history.state)!=null&&ce[this.modalName]&&history.back()}return this.uppy.emit("dashboard:modal-closed"),oe},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=a=>{const{capabilities:w}=this.uppy.getState();this.uppy.setState({capabilities:U(l({},w),{darkMode:a})})},this.handleSystemDarkModeChange=a=>{const w=a.matches;this.uppy.log(`[Dashboard] Dark mode is ${w?"on":"off"}`),this.setDarkModeCapability(w)},this.toggleFileCard=(a,w)=>{const R=this.uppy.getFile(w);a?this.uppy.emit("dashboard:file-edit-start",R):this.uppy.emit("dashboard:file-edit-complete",R),this.setPluginState({fileCardFor:a?w:null,activeOverlayType:a?"FileCard":null})},this.toggleAddFilesPanel=a=>{this.setPluginState({showAddFilesPanel:a,activeOverlayType:a?"AddFiles":null})},this.addFiles=a=>{const w=a.map(R=>({source:this.id,name:R.name,type:R.type,data:R,meta:{relativePath:R.relativePath||null}}));try{this.uppy.addFiles(w)}catch(R){this.uppy.log(R)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(a=>{const w=a[0],{width:R,height:B}=w.contentRect;this.uppy.log(`[Dashboard] resized: ${R} / ${B}`,"debug"),this.setPluginState({containerWidth:R,containerHeight:B,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const a=this.getPluginState(),w=!this.opts.inline&&a.isHidden;!a.areInsidesReadyToBeVisible&&!w&&(this.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=a=>{this.el.contains(a.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableAllFocusableElements=a=>{const w=K(this.el.querySelectorAll(pe));a?w.forEach(R=>{const B=R.getAttribute("tabindex");B&&(R.dataset.inertTabindex=B),R.setAttribute("tabindex","-1")}):w.forEach(R=>{"inertTabindex"in R.dataset?R.setAttribute("tabindex",R.dataset.inertTabindex):R.removeAttribute("tabindex")}),this.dashboardIsDisabled=a},this.updateBrowserHistory=()=>{var a;(a=history.state)!=null&&a[this.modalName]||history.pushState(U(l({},history.state),{[this.modalName]:!0}),""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=a=>{var w;this.isModalOpen()&&(!a.state||!a.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&(w=a.state)!=null&&w[this.modalName]&&history.back()},this.handleKeyDownInModal=a=>{a.keyCode===Ae&&this.requestCloseModal(a),a.keyCode===ke&&le.forModal(a,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=a=>{this.uppy.iteratePlugins(R=>{R.type==="acquirer"&&(R.handleRootPaste==null||R.handleRootPaste(a))});const w=K(a.clipboardData.files);this.addFiles(w)},this.handleInputChange=a=>{a.preventDefault();const w=K(a.target.files);this.addFiles(w)},this.handleDragOver=a=>{a.preventDefault(),a.stopPropagation(),!(this.opts.disabled||this.opts.disableLocalFiles||!this.uppy.getState().allowNewUpload)&&(a.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}))},this.handleDragLeave=a=>{a.preventDefault(),a.stopPropagation(),!(this.opts.disabled||this.opts.disableLocalFiles||!this.uppy.getState().allowNewUpload)&&(clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50))},this.handleDrop=a=>{if(a.preventDefault(),a.stopPropagation(),this.opts.disabled||this.opts.disableLocalFiles||!this.uppy.getState().allowNewUpload)return;clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(B=>{B.type==="acquirer"&&(B.handleRootDrop==null||B.handleRootDrop(a))});let w=!1;const R=B=>{this.uppy.log(B,"error"),w||(this.uppy.info(B.message,"error"),w=!0)};ie(a.dataTransfer,{logDropError:R}).then(B=>{B.length>0&&(this.uppy.log("[Dashboard] Files were dropped"),this.addFiles(B))})},this.handleRequestThumbnail=a=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",a)},this.handleCancelThumbnail=a=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",a)},this.handleKeyDownInInline=a=>{a.keyCode===ke&&le.forInline(a,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=a=>{this.el.contains(document.activeElement)&&this.handlePaste(a)},this.handleComplete=({failed:a})=>{this.opts.closeAfterFinish&&a.length===0&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,F,{writable:!0,value:a=>{const w=a[0];this.canEditFile(w)&&this.openFileEditor(w)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const a=M(this.opts.trigger);a?a.forEach(w=>w.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",c(this,F)[F])},this.removeEvents=()=>{const a=M(this.opts.trigger);!this.opts.inline&&a&&a.forEach(w=>w.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",c(this,F)[F])},this.superFocusOnEachUpdate=()=>{const a=this.el.contains(document.activeElement),w=document.activeElement===document.body||document.activeElement===null,R=this.uppy.getState().info.isHidden,B=!this.opts.inline;R&&(B||a||w&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableAllFocusableElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableAllFocusableElements(!1),this.superFocusOnEachUpdate()},this.saveFileCard=(a,w)=>{this.uppy.setFileMeta(w,a),this.toggleFileCard(!1,w)},Object.defineProperty(this,b,{writable:!0,value:a=>{const w=this.uppy.getPlugin(a.id);return U(l({},a),{icon:w.icon||this.opts.defaultPickerIcon,render:w.render})}}),Object.defineProperty(this,P,{writable:!0,value:a=>{const w=this.uppy.getPlugin(a.id);return typeof w.isSupported!="function"?!0:w.isSupported()}}),Object.defineProperty(this,G,{writable:!0,value:be(a=>a.filter(w=>w.type==="acquirer"&&c(this,P)[P](w)).map(c(this,b)[b]))}),Object.defineProperty(this,z,{writable:!0,value:be(a=>a.filter(w=>w.type==="progressindicator").map(c(this,b)[b]))}),Object.defineProperty(this,_,{writable:!0,value:be(a=>a.filter(w=>w.type==="editor").map(c(this,b)[b]))}),this.render=a=>{const w=this.getPluginState(),{files:R,capabilities:B,allowNewUpload:oe}=a,{newFiles:de,uploadStartedFiles:ce,completeFiles:fe,erroredFiles:j,inProgressFiles:_e,inProgressNotPausedFiles:Pe,processingFiles:me,isUploadStarted:Fe,isAllComplete:Le,isAllErrored:xe,isAllPaused:Ne}=this.uppy.getObjectOfFilesPerState(),Be=c(this,G)[G](w.targets),je=c(this,z)[z](w.targets),De=c(this,_)[_](w.targets);let Me;return this.opts.theme==="auto"?Me=B.darkMode?"dark":"light":Me=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),ge({state:a,isHidden:w.isHidden,files:R,newFiles:de,uploadStartedFiles:ce,completeFiles:fe,erroredFiles:j,inProgressFiles:_e,inProgressNotPausedFiles:Pe,processingFiles:me,isUploadStarted:Fe,isAllComplete:Le,isAllErrored:xe,isAllPaused:Ne,totalFileCount:Object.keys(R).length,totalProgress:a.totalProgress,allowNewUpload:oe,acquirers:Be,theme:Me,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:w.activePickerPanel,showFileEditor:w.showFileEditor,saveFileEditor:this.saveFileEditor,disableAllFocusableElements:this.disableAllFocusableElements,animateOpenClose:this.opts.animateOpenClose,isClosing:w.isClosing,progressindicators:je,editors:De,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:a.recoveredState,metaFields:w.metaFields,resumableUploads:B.resumableUploads||!1,individualCancellation:B.individualCancellation,isMobileDevice:B.isMobileDevice,fileCardFor:w.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:w.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:w.containerWidth,containerHeight:w.containerHeight,areInsidesReadyToBeVisible:w.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:w.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},this.discoverProviderPlugins=()=>{this.uppy.iteratePlugins(a=>{a&&!a.target&&a.opts&&a.opts.target===this.constructor&&this.addTarget(a)})},this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:a,closeAfterFinish:w}=this.opts;if(a&&w)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:R,allowMultipleUploadBatches:B}=this.uppy.opts;(R||B)&&w&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:oe}=this.opts;oe&&this.mount(oe,this),(this.opts.plugins||[]).forEach(fe=>{const j=this.uppy.getPlugin(fe);j&&j.mount(this,j)}),this.opts.disableStatusBar||this.uppy.use(W,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(Q,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(T,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const ce=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${ce?"on":"off"}`),this.setDarkModeCapability(ce),this.opts.theme==="auto"&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),this.discoverProviderPlugins(),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const w=this.uppy.getPlugin(`${this.id}:Informer`);w&&this.uppy.removePlugin(w)}if(!this.opts.disableStatusBar){const w=this.uppy.getPlugin(`${this.id}:StatusBar`);w&&this.uppy.removePlugin(w)}if(!this.opts.disableThumbnailGenerator){const w=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);w&&this.uppy.removePlugin(w)}(this.opts.plugins||[]).forEach(w=>{const R=this.uppy.getPlugin(w);R&&R.unmount()}),this.opts.theme==="auto"&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${J()}`,this.defaultLocale={strings:{closeModal:"Close Modal",importFrom:"Import from %{name}",addingMoreFiles:"Adding more files",addMoreFiles:"Add more files",dashboardWindowTitle:"File Uploader Window (Press escape to close)",dashboardTitle:"File Uploader",copyLinkToClipboardSuccess:"Link copied to clipboard",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",addMore:"Add more",removeFile:"Remove file %{file}",editFile:"Edit file",editFileWithFilename:"Edit file %{file}",editing:"Editing %{file}",finishEditingFile:"Finish editing file",save:"Save",saveChanges:"Save changes",cancel:"Cancel",myDevice:"My Device",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",dropHint:"Drop your files here",browseFiles:"browse files",browseFolders:"browse folders",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",poweredBy:"Powered by %{uppy}"}};const E={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:H,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.reset(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts=l(l({},E),v),this.i18nInit(),this.superFocus=he(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}onMount(){const re=this.el;Y(re)||(re.dir="ltr")}}),k.VERSION="2.0.3",y)},8983:function(N){"use strict";N.exports=function(n,s){return s=s||"Copy the URL below",new Promise(u=>{const S=document.createElement("textarea");S.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),S.value=n,document.body.appendChild(S),S.select();const f=()=>{document.body.removeChild(S),window.prompt(s,n),u()};try{return document.execCommand("copy")?(document.body.removeChild(S),u()):f("copy command unavailable")}catch(g){return document.body.removeChild(S),f(g)}})}},8990:function(N,D,n){"use strict";const s=n(1849),u=n(9855),S=n(6845);N.exports=function(){let g=!1;return s((m,l)=>{const U=S(m,l),k=U.contains(document.activeElement);if(k&&g)return;const F=U.querySelector("[data-uppy-super-focusable]");if(!(k&&!F))if(F)F.focus({preventScroll:!0}),g=!0;else{const b=U.querySelector(u);b==null||b.focus({preventScroll:!0}),g=!1}},260)}},6845:function(N){"use strict";N.exports=function(n,s){if(s){const u=n.querySelector(`[data-uppy-paneltype="${s}"]`);if(u)return u}return n}},5058:function(N,D,n){"use strict";const{h:s}=n(3233);function u(){return s("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},s("g",{fill:"#686DE0",fillRule:"evenodd"},s("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),s("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),s("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function S(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function f(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function g(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function p(){return s("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function m(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("g",{fill:"#A7AFB7",fillRule:"nonzero"},s("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),s("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function l(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}N.exports=function(k){const F={color:"#838999",icon:m()};if(!k)return F;const b=k.split("/")[0],P=k.split("/")[1];return b==="text"?{color:"#5a5e69",icon:l()}:b==="image"?{color:"#686de0",icon:u()}:b==="audio"?{color:"#068dbb",icon:S()}:b==="video"?{color:"#19af67",icon:f()}:b==="application"&&P==="pdf"?{color:"#e25149",icon:g()}:b==="application"&&["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(P)!==-1?{color:"#00C469",icon:p()}:F}},7453:function(N){"use strict";function D(n){const{tagName:s}=n.target;if(s==="INPUT"||s==="TEXTAREA"){n.stopPropagation();return}n.preventDefault(),n.stopPropagation()}N.exports=D},3729:function(N,D,n){"use strict";const s=n(9212),u=n(9855),S=n(6845);function f(l,U){const k=U[0];k&&(k.focus(),l.preventDefault())}function g(l,U){const k=U[U.length-1];k&&(k.focus(),l.preventDefault())}function p(l){return l.contains(document.activeElement)}function m(l,U,k){const F=S(k,U),b=s(F.querySelectorAll(u)),P=b.indexOf(document.activeElement);p(F)?l.shiftKey&&P===0?g(l,b):!l.shiftKey&&P===b.length-1&&f(l,b):f(l,b)}N.exports={forModal:(l,U,k)=>{m(l,U,k)},forInline:(l,U,k)=>{U===null||m(l,U,k)}}},5998:function(N,D,n){"use strict";const{h:s,Component:u,createRef:S}=n(3233),f=300;N.exports=class extends u{constructor(...p){super(...p);this.ref=S()}componentWillEnter(p){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(p,f)}componentWillLeave(p){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(p,f)}render(){const{children:p}=this.props;return s("div",{className:"uppy-Informer-animated",ref:this.ref},p)}}},1984:function(N,D,n){"use strict";var s=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,f=(_,y)=>{var c={};for(var O in _)u.call(_,O)&&y.indexOf(O)<0&&(c[O]=_[O]);if(_!=null&&s)for(var O of s(_))y.indexOf(O)<0&&S.call(_,O)&&(c[O]=_[O]);return c};const{Component:g,cloneElement:p,h:m,toChildArray:l}=n(3233);function U(_,y){return Object.assign(_,y)}function k(_,y){var c;return(c=_==null?void 0:_.key)!=null?c:y}function F(_,y){const c=_._ptgLinkedRefs||(_._ptgLinkedRefs={});return c[y]||(c[y]=O=>{_.refs[y]=O})}function b(_){const y={};for(let c=0;c<_.length;c++)if(_[c]!=null){const O=k(_[c],c.toString(36));y[O]=_[c]}return y}function P(_,y){_=_||{},y=y||{};const c=V=>y.hasOwnProperty(V)?y[V]:_[V],O={};let A=[];for(const V in _)y.hasOwnProperty(V)?A.length&&(O[V]=A,A=[]):A.push(V);const te={};for(const V in y){if(O.hasOwnProperty(V))for(let W=0;W<O[V].length;W++){const Q=O[V][W];te[O[V][W]]=c(Q)}te[V]=c(V)}for(let V=0;V<A.length;V++)te[A[V]]=c(A[V]);return te}const G=_=>_;class z extends g{constructor(y,c){super(y,c);this.refs={},this.state={children:b(l(l(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const y=this.state.children;for(const c in y)y[c]&&this.performAppear(c)}componentWillReceiveProps(y){const c=b(l(y.children)||[]),O=this.state.children;this.setState(te=>({children:P(te.children,c)}));let A;for(A in c)if(c.hasOwnProperty(A)){const te=O&&O.hasOwnProperty(A);c[A]&&te&&this.currentlyTransitioningKeys[A]?(this.keysToEnter.push(A),this.keysToAbortLeave.push(A)):c[A]&&!te&&!this.currentlyTransitioningKeys[A]&&this.keysToEnter.push(A)}for(A in O)if(O.hasOwnProperty(A)){const te=c&&c.hasOwnProperty(A);O[A]&&!te&&!this.currentlyTransitioningKeys[A]&&this.keysToLeave.push(A)}}componentDidUpdate(){const{keysToEnter:y}=this;this.keysToEnter=[],y.forEach(this.performEnter);const{keysToLeave:c}=this;this.keysToLeave=[],c.forEach(this.performLeave)}_finishAbort(y){const c=this.keysToAbortLeave.indexOf(y);c!==-1&&this.keysToAbortLeave.splice(c,1)}performAppear(y){this.currentlyTransitioningKeys[y]=!0;const c=this.refs[y];c.componentWillAppear?c.componentWillAppear(this._handleDoneAppearing.bind(this,y)):this._handleDoneAppearing(y)}_handleDoneAppearing(y){const c=this.refs[y];c.componentDidAppear&&c.componentDidAppear(),delete this.currentlyTransitioningKeys[y],this._finishAbort(y);const O=b(l(this.props.children)||[]);(!O||!O.hasOwnProperty(y))&&this.performLeave(y)}performEnter(y){this.currentlyTransitioningKeys[y]=!0;const c=this.refs[y];c.componentWillEnter?c.componentWillEnter(this._handleDoneEntering.bind(this,y)):this._handleDoneEntering(y)}_handleDoneEntering(y){const c=this.refs[y];c.componentDidEnter&&c.componentDidEnter(),delete this.currentlyTransitioningKeys[y],this._finishAbort(y);const O=b(l(this.props.children)||[]);(!O||!O.hasOwnProperty(y))&&this.performLeave(y)}performLeave(y){if(this.keysToAbortLeave.indexOf(y)!==-1)return;this.currentlyTransitioningKeys[y]=!0;const O=this.refs[y];O.componentWillLeave?O.componentWillLeave(this._handleDoneLeaving.bind(this,y)):this._handleDoneLeaving(y)}_handleDoneLeaving(y){if(this.keysToAbortLeave.indexOf(y)!==-1)return;const O=this.refs[y];O.componentDidLeave&&O.componentDidLeave(),delete this.currentlyTransitioningKeys[y];const A=b(l(this.props.children)||[]);if(A&&A.hasOwnProperty(y))this.performEnter(y);else{const te=U({},this.state.children);delete te[y],this.setState({children:te})}}render(y,{children:c}){var O=y,{childFactory:A,transitionLeave:te,transitionName:V,transitionAppear:W,transitionEnter:Q,transitionLeaveTimeout:T,transitionEnterTimeout:M,transitionAppearTimeout:K,component:ie}=O,Y=f(O,["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"]);const J=[];for(const le in c)if(c.hasOwnProperty(le)){const he=c[le];if(he){const be=F(this,le),pe=p(A(he),{ref:be,key:le});J.push(pe)}}return m(ie,Y,J)}}z.defaultProps={component:"span",childFactory:G},N.exports=z},2158:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(P,G,z)=>G in P?s(P,G,{enumerable:!0,configurable:!0,writable:!0,value:z}):P[G]=z,p=(P,G)=>{for(var z in G||(G={}))S.call(G,z)&&g(P,z,G[z]);if(u)for(var z of u(G))f.call(G,z)&&g(P,z,G[z]);return P},m,l;const{h:U}=n(3233),{UIPlugin:k}=n(9046),F=n(5998),b=n(1984);N.exports=(l=m=class extends k{constructor(G,z){super(G,z);this.render=y=>U("div",{className:"uppy uppy-Informer"},U(b,null,y.info.map(c=>U(F,{key:c.message},U("p",{role:"alert"},c.message," ",c.details&&U("span",{"aria-label":c.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${c.message} 

 ${c.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";const _={};this.opts=p(p({},_),z)}install(){const{target:G}=this.opts;G&&this.mount(G,this)}},m.VERSION="2.0.2",l)},5019:function(N,D,n){"use strict";function s(){return s=Object.assign||function(T){for(var M=1;M<arguments.length;M++){var K=arguments[M];for(var ie in K)Object.prototype.hasOwnProperty.call(K,ie)&&(T[ie]=K[ie])}return T},s.apply(this,arguments)}const u=n(6818),S=n(7010),f=n(2567),g=n(5192),{h:p}=n(3233),m=n(6938);function l(T){const M=[];Object.keys(T).forEach(le=>{const{progress:he}=T[le];he.preprocess&&M.push(he.preprocess),he.postprocess&&M.push(he.postprocess)});const{mode:K,message:ie}=M[0],Y=M.filter(J).reduce((le,he,be,pe)=>le+he.value/pe.length,0);function J(le){return le.mode==="determinate"}return{mode:K,message:ie,value:Y}}function U(T){if(!T.isAllComplete)return T.resumableUploads?T.isAllPaused?T.uppy.resumeAll():T.uppy.pauseAll():T.uppy.cancelAll()}N.exports=T=>{T=T||{};const{newFiles:M,allowNewUpload:K,isUploadInProgress:ie,isAllPaused:Y,resumableUploads:J,error:le,hideUploadButton:he,hidePauseResumeButton:be,hideCancelButton:pe,hideRetryButton:ge,recoveredState:ke}=T,{uploadState:Ae}=T;let we=T.totalProgress,H,X;if(Ae===m.STATE_PREPROCESSING||Ae===m.STATE_POSTPROCESSING){const ce=l(T.files);H=ce.mode,H==="determinate"&&(we=ce.value*100),X=_(ce)}else Ae===m.STATE_COMPLETE?X=W(T):Ae===m.STATE_UPLOADING?(T.supportsUploadProgress||(H="indeterminate",we=null),X=V(T)):Ae===m.STATE_ERROR&&(we=void 0,X=Q(T));const re=typeof we=="number"?we:100;let v=Ae===m.STATE_WAITING&&T.hideUploadButton||Ae===m.STATE_WAITING&&!T.newFiles>0||Ae===m.STATE_COMPLETE&&T.hideAfterFinish,E=!le&&M&&!ie&&!Y&&K&&!he;ke&&(v=!1,E=!0);const a=!pe&&Ae!==m.STATE_WAITING&&Ae!==m.STATE_COMPLETE,w=J&&!be&&Ae===m.STATE_UPLOADING,R=le&&!ge,B=T.doneButtonHandler&&Ae===m.STATE_COMPLETE,oe=`uppy-StatusBar-progress
                           ${H?`is-${H}`:""}`,de=S({"uppy-Root":T.isTargetDOMEl},"uppy-StatusBar",`is-${Ae}`,{"has-ghosts":T.isSomeGhost});return p("div",{className:de,"aria-hidden":v},p("div",{className:oe,style:{width:`${re}%`},role:"progressbar","aria-label":`${re}%`,"aria-valuetext":`${re}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":we}),X,p("div",{className:"uppy-StatusBar-actions"},E?p(k,s({},T,{uploadState:Ae})):null,R?p(F,T):null,w?p(P,T):null,a?p(b,T):null,B?p(G,T):null))};const k=T=>{const M=S("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":T.uploadState===m.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":T.isSomeGhost}),K=T.newFiles&&T.isUploadStarted&&!T.recoveredState?T.i18n("uploadXNewFiles",{smart_count:T.newFiles}):T.i18n("uploadXFiles",{smart_count:T.newFiles});return p("button",{type:"button",className:M,"aria-label":T.i18n("uploadXFiles",{smart_count:T.newFiles}),onClick:T.startUpload,disabled:T.isSomeGhost,"data-uppy-super-focusable":!0},K)},F=T=>p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":T.i18n("retryUpload"),onClick:()=>T.uppy.retryAll(),"data-uppy-super-focusable":!0},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},p("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),T.i18n("retry")),b=T=>p("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:T.i18n("cancel"),"aria-label":T.i18n("cancel"),onClick:()=>T.uppy.cancelAll(),"data-uppy-super-focusable":!0},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},p("g",{fill:"none",fillRule:"evenodd"},p("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),p("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})))),P=T=>{const{isAllPaused:M,i18n:K}=T,ie=K(M?"resume":"pause");return p("button",{title:ie,"aria-label":ie,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:()=>U(T),"data-uppy-super-focusable":!0},M?p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},p("g",{fill:"none",fillRule:"evenodd"},p("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),p("path",{fill:"#FFF",d:"M6 4.25L11.5 8 6 11.75z"}))):p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},p("g",{fill:"none",fillRule:"evenodd"},p("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),p("path",{d:"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z",fill:"#FFF"}))))},G=T=>{const{i18n:M}=T;return p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:T.doneButtonHandler,"data-uppy-super-focusable":!0},M("done"))},z=()=>p("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},p("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})),_=T=>{const M=Math.round(T.value*100);return p("div",{className:"uppy-StatusBar-content"},p(z,null),T.mode==="determinate"?`${M}% \xB7 `:"",T.message)},y=()=>" \xB7 ",c=T=>{const M=T.numUploads>1;return p("div",{className:"uppy-StatusBar-statusSecondary"},M&&T.i18n("filesUploadedOfTotal",{complete:T.complete,smart_count:T.numUploads}),p("span",{className:"uppy-StatusBar-additionalInfo"},M&&y(),T.i18n("dataUploadedOfTotal",{complete:f(T.totalUploadedSize),total:f(T.totalSize)}),y(),T.i18n("xTimeLeft",{time:g(T.totalETA)})))},O=T=>p("div",{className:"uppy-StatusBar-statusSecondary"},T.i18n("filesUploadedOfTotal",{complete:T.complete,smart_count:T.numUploads})),A=T=>{const M=S("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return p("div",{className:"uppy-StatusBar-statusSecondary"},p("div",{className:"uppy-StatusBar-statusSecondaryHint"},T.i18n("xMoreFilesAdded",{smart_count:T.newFiles})),p("button",{type:"button",className:M,"aria-label":T.i18n("uploadXFiles",{smart_count:T.newFiles}),onClick:T.startUpload},T.i18n("upload")))},te=u(c,500,{leading:!0,trailing:!0}),V=T=>{if(!T.isUploadStarted||T.isAllComplete)return null;const M=T.isAllPaused?T.i18n("paused"):T.i18n("uploading"),K=T.newFiles&&T.isUploadStarted;return p("div",{className:"uppy-StatusBar-content","aria-label":M,title:M},T.isAllPaused?null:p(z,null),p("div",{className:"uppy-StatusBar-status"},p("div",{className:"uppy-StatusBar-statusPrimary"},T.supportsUploadProgress?`${M}: ${T.totalProgress}%`:M),!T.isAllPaused&&!K&&T.showProgressDetails?T.supportsUploadProgress?p(te,T):p(O,T):null,K?p(A,T):null))},W=({i18n:T})=>p("div",{className:"uppy-StatusBar-content",role:"status",title:T("complete")},p("div",{className:"uppy-StatusBar-status"},p("div",{className:"uppy-StatusBar-statusPrimary"},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},p("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),T("complete")))),Q=({error:T,i18n:M})=>{function K(){const ie=`${M("uploadFailed")} 

 ${T}`;alert(ie)}return p("div",{className:"uppy-StatusBar-content",role:"alert",title:M("uploadFailed")},p("div",{className:"uppy-StatusBar-status"},p("div",{className:"uppy-StatusBar-statusPrimary"},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},p("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),M("uploadFailed"))),p("button",{className:"uppy-StatusBar-details","aria-label":T,"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:K,type:"button"},"?"))}},6938:function(N){"use strict";N.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}},3330:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(z,_,y)=>_ in z?s(z,_,{enumerable:!0,configurable:!0,writable:!0,value:y}):z[_]=y,p=(z,_)=>{for(var y in _||(_={}))S.call(_,y)&&g(z,y,_[y]);if(u)for(var y of u(_))f.call(_,y)&&g(z,y,_[y]);return z},m,l;const{UIPlugin:U}=n(9046),k=n(4339),F=n(9418),b=n(936),P=n(6938),G=n(5019);N.exports=(l=m=class extends U{constructor(_,y){super(_,y);this.startUpload=()=>{const{recoveredState:O}=this.uppy.getState();if(O){this.uppy.emit("restore-confirmed");return}return this.uppy.upload().catch(()=>{})},this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale={strings:{uploading:"Uploading",upload:"Upload",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",retryUpload:"Retry upload",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"}}};const c={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};this.opts=p(p({},c),y),this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}getTotalSpeed(_){let y=0;return _.forEach(c=>{y+=k(c.progress)}),y}getTotalETA(_){const y=this.getTotalSpeed(_);if(y===0)return 0;const c=_.reduce((O,A)=>O+F(A.progress),0);return Math.round(c/y*10)/10}getUploadingState(_,y,c,O){if(_)return P.STATE_ERROR;if(y)return P.STATE_COMPLETE;if(c)return P.STATE_WAITING;let A=P.STATE_WAITING;const te=Object.keys(O);for(let V=0;V<te.length;V++){const{progress:W}=O[te[V]];if(W.uploadStarted&&!W.uploadComplete)return P.STATE_UPLOADING;W.preprocess&&A!==P.STATE_UPLOADING&&(A=P.STATE_PREPROCESSING),W.postprocess&&A!==P.STATE_UPLOADING&&A!==P.STATE_PREPROCESSING&&(A=P.STATE_POSTPROCESSING)}return A}render(_){const{capabilities:y,files:c,allowNewUpload:O,totalProgress:A,error:te,recoveredState:V}=_,{newFiles:W,startedFiles:Q,completeFiles:T,inProgressNotPausedFiles:M,isUploadStarted:K,isAllComplete:ie,isAllErrored:Y,isAllPaused:J,isUploadInProgress:le,isSomeGhost:he}=this.uppy.getObjectOfFilesPerState(),be=V?Object.values(c):W,pe=this.getTotalETA(M),ge=!!y.resumableUploads,ke=y.uploadProgress!==!1;let Ae=0,we=0;return Q.forEach(H=>{Ae+=H.progress.bytesTotal||0,we+=H.progress.bytesUploaded||0}),G({error:te,uploadState:this.getUploadingState(Y,ie,V,_.files||{}),allowNewUpload:O,totalProgress:A,totalSize:Ae,totalUploadedSize:we,isAllComplete:ie,isAllPaused:J,isAllErrored:Y,isUploadStarted:K,isUploadInProgress:le,isSomeGhost:he,recoveredState:V,complete:T.length,newFiles:be.length,numUploads:Q.length,totalETA:pe,files:c,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:ge,supportsUploadProgress:ke,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){const _=this.el;b(_)||(_.dir="ltr")}install(){const{target:_}=this.opts;_&&this.mount(_,this)}uninstall(){this.unmount()}},m.VERSION="2.0.2",l)},2286:function(N){"use strict";var D=Object.defineProperty,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,S=(F,b,P)=>b in F?D(F,b,{enumerable:!0,configurable:!0,writable:!0,value:P}):F[b]=P,f=(F,b)=>{for(var P in b||(b={}))s.call(b,P)&&S(F,P,b[P]);if(n)for(var P of n(b))u.call(b,P)&&S(F,P,b[P]);return F};function g(F,b){if(!Object.prototype.hasOwnProperty.call(F,b))throw new TypeError("attempted to use private field on non-instance");return F}var p=0;function m(F){return"__private_"+p+++"_"+F}var l=m("publish");class U{constructor(){Object.defineProperty(this,l,{value:k}),this.state={},this.callbacks=[]}getState(){return this.state}setState(b){const P=f({},this.state),G=f(f({},this.state),b);this.state=G,g(this,l)[l](P,G,b)}subscribe(b){return this.callbacks.push(b),()=>{this.callbacks.splice(this.callbacks.indexOf(b),1)}}}function k(...F){this.callbacks.forEach(b=>{b(...F)})}U.VERSION="2.0.0",N.exports=function(){return new U}},195:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=Math.pow,p=(z,_,y)=>_ in z?s(z,_,{enumerable:!0,configurable:!0,writable:!0,value:y}):z[_]=y,m=(z,_)=>{for(var y in _||(_={}))S.call(_,y)&&p(z,y,_[y]);if(u)for(var y of u(_))f.call(_,y)&&p(z,y,_[y]);return z},l,U;const{UIPlugin:k}=n(9046),F=n(4255),b=n(873),P=n(2970),G=n(2076);N.exports=(U=l=class extends k{constructor(_,y){super(_,y);this.onFileAdded=O=>{!O.preview&&O.data&&P(O.type)&&!O.isRemote&&this.addToQueue(O.id)},this.onCancelRequest=O=>{const A=this.queue.indexOf(O.id);A!==-1&&this.queue.splice(A,1)},this.onFileRemoved=O=>{const A=this.queue.indexOf(O.id);A!==-1&&this.queue.splice(A,1),O.preview&&b(O.preview)&&URL.revokeObjectURL(O.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(A=>A.isRestored).forEach(A=>{(!A.preview||b(A.preview))&&this.addToQueue(A.id)})},this.waitUntilAllProcessed=O=>{O.forEach(te=>{const V=this.uppy.getFile(te);this.uppy.emit("preprocess-progress",V,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const A=()=>{O.forEach(te=>{const V=this.uppy.getFile(te);this.uppy.emit("preprocess-complete",V)})};return new Promise(te=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{A(),te()}):(A(),te())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale={strings:{generatingThumbnails:"Generating thumbnails..."}};const c={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(this.opts=m(m({},c),y),this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(_,y,c){const O=URL.createObjectURL(_.data),A=new Promise((V,W)=>{const Q=new Image;Q.src=O,Q.addEventListener("load",()=>{URL.revokeObjectURL(O),V(Q)}),Q.addEventListener("error",T=>{URL.revokeObjectURL(O),W(T.error||new Error("Could not create thumbnail"))})}),te=G.rotation(_.data).catch(()=>1);return Promise.all([A,te]).then(([V,W])=>{const Q=this.getProportionalDimensions(V,y,c,W.deg),T=this.rotateImage(V,W),M=this.resizeImage(T,Q.width,Q.height);return this.canvasToBlob(M,this.thumbnailType,80)}).then(V=>URL.createObjectURL(V))}getProportionalDimensions(_,y,c,O){let A=_.width/_.height;return(O===90||O===270)&&(A=_.height/_.width),y!=null?{width:y,height:Math.round(y/A)}:c!=null?{width:Math.round(c*A),height:c}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/A)}}protect(_){const y=_.width/_.height,c=5e6,O=4096;let A=Math.floor(Math.sqrt(c*y)),te=Math.floor(c/Math.sqrt(c*y));if(A>O&&(A=O,te=Math.round(A/y)),te>O&&(te=O,A=Math.round(y*te)),_.width>A){const V=document.createElement("canvas");V.width=A,V.height=te,V.getContext("2d").drawImage(_,0,0,A,te),_=V}return _}resizeImage(_,y,c){_=this.protect(_);let O=Math.ceil(Math.log2(_.width/y));O<1&&(O=1);let A=y*g(2,O-1),te=c*g(2,O-1);const V=2;for(;O--;){const W=document.createElement("canvas");W.width=A,W.height=te,W.getContext("2d").drawImage(_,0,0,A,te),_=W,A=Math.round(A/V),te=Math.round(te/V)}return _}rotateImage(_,y){let c=_.width,O=_.height;(y.deg===90||y.deg===270)&&(c=_.height,O=_.width);const A=document.createElement("canvas");A.width=c,A.height=O;const te=A.getContext("2d");return te.translate(c/2,O/2),y.canvas&&(te.rotate(y.rad),te.scale(y.scaleX,y.scaleY)),te.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),A}canvasToBlob(_,y,c){try{_.getContext("2d").getImageData(0,0,1,1)}catch(O){if(O.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return _.toBlob?new Promise(O=>{_.toBlob(O,y,c)}).then(O=>{if(O===null)throw new Error("cannot read image, probably an svg with external resources");return O}):Promise.resolve().then(()=>F(_.toDataURL(y,c),{})).then(O=>{if(O===null)throw new Error("could not extract blob, probably an old browser");return O})}setPreviewURL(_,y){this.uppy.setFileState(_,{preview:y})}addToQueue(_){this.queue.push(_),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const _=this.uppy.getFile(this.queue.shift());if(!_){this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error");return}return this.requestThumbnail(_).catch(()=>{}).then(()=>this.processQueue())}this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated")}requestThumbnail(_){return P(_.type)&&!_.isRemote?this.createThumbnail(_,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(y=>{this.setPreviewURL(_.id,y),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${_.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(_.id),y)}).catch(y=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${_.id}:`,"warning"),this.uppy.log(y,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(_.id),y)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}},l.VERSION="2.0.3",U)},9281:function(N){"use strict";var D,n;function s(f,g){if(!Object.prototype.hasOwnProperty.call(f,g))throw new TypeError("attempted to use private field on non-instance");return f}var u=0;function S(f){return"__private_"+u+++"_"+f}N.exports=(D=S("emitter"),n=S("events"),class{constructor(g){Object.defineProperty(this,D,{writable:!0,value:void 0}),Object.defineProperty(this,n,{writable:!0,value:[]}),s(this,D)[D]=g}on(g,p){return s(this,n)[n].push([g,p]),s(this,D)[D].on(g,p)}remove(){for(const[g,p]of s(this,n)[n].splice(0))s(this,D)[D].off(g,p)}})},9855:function(N){"use strict";N.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']},767:function(N){"use strict";class D extends Error{constructor(s,u=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");this.cause=s,this.isNetworkError=!0,this.request=u}}N.exports=D},4478:function(N){"use strict";function D(m,l){if(!Object.prototype.hasOwnProperty.call(m,l))throw new TypeError("attempted to use private field on non-instance");return m}var n=0;function s(m){return"__private_"+n+++"_"+m}var u=s("aliveTimer"),S=s("isDone"),f=s("onTimedOut"),g=s("timeout");class p{constructor(l,U){Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:!1}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),D(this,g)[g]=l,D(this,f)[f]=U}progress(){D(this,S)[S]||D(this,g)[g]>0&&(clearTimeout(D(this,u)[u]),D(this,u)[u]=setTimeout(D(this,f)[f],D(this,g)[g]))}done(){D(this,S)[S]||(clearTimeout(D(this,u)[u]),D(this,u)[u]=null,D(this,S)[S]=!0)}}N.exports=p},3879:function(N){"use strict";function D(_,y){if(!Object.prototype.hasOwnProperty.call(_,y))throw new TypeError("attempted to use private field on non-instance");return _}var n=0;function s(_){return"__private_"+n+++"_"+_}function u(){return new Error("Cancelled")}var S=s("activeRequests"),f=s("queuedHandlers"),g=s("call"),p=s("queueNext"),m=s("next"),l=s("queue"),U=s("dequeue");class k{constructor(y){Object.defineProperty(this,U,{value:z}),Object.defineProperty(this,l,{value:G}),Object.defineProperty(this,m,{value:P}),Object.defineProperty(this,p,{value:b}),Object.defineProperty(this,g,{value:F}),Object.defineProperty(this,S,{writable:!0,value:0}),Object.defineProperty(this,f,{writable:!0,value:[]}),typeof y!="number"||y===0?this.limit=1/0:this.limit=y}run(y,c){return D(this,S)[S]<this.limit?D(this,g)[g](y):D(this,l)[l](y,c)}wrapPromiseFunction(y,c){return(...O)=>{let A;const te=new Promise((V,W)=>{A=this.run(()=>{let Q,T;try{T=Promise.resolve(y(...O))}catch(M){T=Promise.reject(M)}return T.then(M=>{Q?W(Q):(A.done(),V(M))},M=>{Q?W(Q):(A.done(),W(M))}),()=>{Q=u()}},c)});return te.abort=()=>{A.abort()},te}}}function F(_){D(this,S)[S]+=1;let y=!1,c;try{c=_()}catch(O){throw D(this,S)[S]-=1,O}return{abort:()=>{y||(y=!0,D(this,S)[S]-=1,c(),D(this,p)[p]())},done:()=>{y||(y=!0,D(this,S)[S]-=1,D(this,p)[p]())}}}function b(){queueMicrotask(()=>D(this,m)[m]())}function P(){if(D(this,S)[S]>=this.limit||D(this,f)[f].length===0)return;const _=D(this,f)[f].shift(),y=D(this,g)[g](_.fn);_.abort=y.abort,_.done=y.done}function G(_,y={}){const c={fn:_,priority:y.priority||0,abort:()=>{D(this,U)[U](c)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},O=D(this,f)[f].findIndex(A=>c.priority>A.priority);return O===-1?D(this,f)[f].push(c):D(this,f)[f].splice(O,0,c),c}function z(_){const y=D(this,f)[f].indexOf(_);y!==-1&&D(this,f)[f].splice(y,1)}N.exports={RateLimitedQueue:k,internalRateLimitedQueue:Symbol("__queue")}},9082:function(N,D,n){"use strict";var s=Object.defineProperty,u=Object.defineProperties,S=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(c,O,A)=>O in c?s(c,O,{enumerable:!0,configurable:!0,writable:!0,value:A}):c[O]=A,l=(c,O)=>{for(var A in O||(O={}))g.call(O,A)&&m(c,A,O[A]);if(f)for(var A of f(O))p.call(O,A)&&m(c,A,O[A]);return c},U=(c,O)=>u(c,S(O)),k;function F(c,O){if(!Object.prototype.hasOwnProperty.call(c,O))throw new TypeError("attempted to use private field on non-instance");return c}var b=0;function P(c){return"__private_"+b+++"_"+c}const G=n(9514);function z(c,O,A){const te=[];return c.forEach(V=>typeof V!="string"?te.push(V):O[Symbol.split](V).forEach((W,Q,T)=>{W!==""&&te.push(W),Q<T.length-1&&te.push(A)})),te}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */function _(c,O){const A=/\$/g,te="$$$$";let V=[c];if(O==null)return V;for(const W of Object.keys(O))if(W!=="_"){let Q=O[W];typeof Q=="string"&&(Q=A[Symbol.replace](Q,te)),V=z(V,new RegExp(`%\\{${W}\\}`,"g"),Q)}return V}N.exports=(k=P("apply"),class{constructor(O){Object.defineProperty(this,k,{value:y}),this.locale={strings:{},pluralize(A){return A===1?0:1}},Array.isArray(O)?O.forEach(F(this,k)[k],this):F(this,k)[k](O)}translate(O,A){return this.translateArray(O,A).join("")}translateArray(O,A){if(!G(this.locale.strings,O))throw new Error(`missing string: ${O}`);const te=this.locale.strings[O];if(typeof te=="object"){if(A&&typeof A.smart_count!="undefined"){const W=this.locale.pluralize(A.smart_count);return _(te[W],A)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return _(te,A)}});function y(c){if(!(c!=null&&c.strings))return;const O=this.locale;this.locale=U(l({},O),{strings:l(l({},O.strings),c.strings)}),this.locale.pluralize=c.pluralize||O.pluralize}},4255:function(N){"use strict";const D=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;N.exports=function(s,u,S){var f,g;const p=D.exec(s),m=(f=(g=u.mimeType)!=null?g:p==null?void 0:p[1])!=null?f:"plain/text";let l;if(p[2]!=null){const U=atob(decodeURIComponent(p[3])),k=new Uint8Array(U.length);for(let F=0;F<U.length;F++)k[F]=U.charCodeAt(F);l=[k]}else l=[decodeURIComponent(p[3])];return S?new File(l,u.name||"",{type:m}):new Blob(l,{type:m})}},125:function(N,D,n){"use strict";const s=n(6818);function u(S,f,g){const{progress:p,bytesUploaded:m,bytesTotal:l}=f;p&&(S.uppy.log(`Upload progress: ${p}`),S.uppy.emit("upload-progress",g,{uploader:S,bytesUploaded:m,bytesTotal:l}))}N.exports=s(u,300,{leading:!0,trailing:!0})},591:function(N,D,n){"use strict";const s=n(767);N.exports=function(...S){return fetch(...S).catch(f=>{throw f.name==="AbortError"?f:new s(f)})}},9613:function(N,D,n){"use strict";const s=n(991);N.exports=function(S){if(typeof S=="string"){const f=document.querySelectorAll(S);return f.length===0?null:Array.from(f)}return typeof S=="object"&&s(S)?[S]:null}},8079:function(N,D,n){"use strict";const s=n(991);N.exports=function(S,f=document){return typeof S=="string"?f.querySelector(S):s(S)?S:null}},3746:function(N){"use strict";function D(s){return s.charCodeAt(0).toString(32)}function n(s){let u="";return s.replace(/[^A-Z0-9]/ig,S=>(u+=`-${D(S)}`,"/"))+u}N.exports=function(u){let S="uppy";return typeof u.name=="string"&&(S+=`-${n(u.name.toLowerCase())}`),u.type!==void 0&&(S+=`-${u.type}`),u.meta&&typeof u.meta.relativePath=="string"&&(S+=`-${n(u.meta.relativePath.toLowerCase())}`),u.data.size!==void 0&&(S+=`-${u.data.size}`),u.data.lastModified!==void 0&&(S+=`-${u.data.lastModified}`),S}},9418:function(N){"use strict";N.exports=function(n){return n.bytesTotal-n.bytesUploaded}},5169:function(N,D,n){"use strict";const s=n(1269),u=n(1988);N.exports=function(f,{logDropError:g=()=>{}}={}){var p;return(p=f.items)!=null&&p[0]&&"webkitGetAsEntry"in f.items[0]?s(f,g):u(f)}},1988:function(N,D,n){"use strict";const s=n(9212);N.exports=function(S){const f=s(S.files);return Promise.resolve(f)}},4523:function(N){"use strict";N.exports=function D(n,s,u,{onSuccess:S}){n.readEntries(f=>{const g=[...s,...f];f.length?setTimeout(()=>{D(n,g,u,{onSuccess:S})},0):S(g)},f=>{u(f),S(s)})}},915:function(N){"use strict";N.exports=function(n){return!n.fullPath||n.fullPath===`/${n.name}`?null:n.fullPath}},1269:function(N,D,n){"use strict";const s=n(9212),u=n(915),S=n(4523);N.exports=function(g,p){const m=[],l=[],U=k=>new Promise(F=>{if(k.isFile)k.file(b=>{b.relativePath=u(k),m.push(b),F()},b=>{p(b),F()});else if(k.isDirectory){const b=k.createReader();S(b,[],p,{onSuccess:P=>F(Promise.all(P.map(U)))})}});return s(g.items).forEach(k=>{const F=k.webkitGetAsEntry();F&&l.push(U(F))}),Promise.all(l).then(()=>m)}},8455:function(N){"use strict";N.exports=function(n){const s=n.lastIndexOf(".");return s===-1||s===n.length-1?{name:n,extension:void 0}:{name:n.slice(0,s),extension:n.slice(s+1)}}},9590:function(N,D,n){"use strict";const s=n(8455),u=n(5092);N.exports=function(f){var g;if(f.type)return f.type;const p=f.name?(g=s(f.name).extension)==null?void 0:g.toLowerCase():null;return p&&p in u?u[p]:"application/octet-stream"}},8204:function(N){"use strict";N.exports=function(n){const u=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(n)[1];return`${/^http:\/\//i.test(n)?"ws":"wss"}://${u}`}},4339:function(N){"use strict";N.exports=function(n){if(!n.bytesUploaded)return 0;const s=Date.now()-n.uploadStarted;return n.bytesUploaded/(s/1e3)}},936:function(N){"use strict";function D(n){for(var s;n&&!n.dir;)n=n.parentNode;return(s=n)==null?void 0:s.dir}N.exports=D},5815:function(N){"use strict";function D(n){return n<10?`0${n}`:n.toString()}N.exports=function(){const s=new Date,u=D(s.getHours()),S=D(s.getMinutes()),f=D(s.getSeconds());return`${u}:${S}:${f}`}},9514:function(N){"use strict";N.exports=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)}},991:function(N){"use strict";N.exports=function(n){return(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE}},1869:function(N){"use strict";N.exports=function(){const n=document.body;return!(!("draggable"in n)||!("ondragstart"in n&&"ondrop"in n)||!("FormData"in window)||!("FileReader"in window))}},757:function(N){"use strict";function D(n){return n?n.readyState!==0&&n.readyState!==4||n.status===0:!1}N.exports=D},873:function(N){"use strict";N.exports=function(n){return n.startsWith("blob:")}},2970:function(N){"use strict";N.exports=function(n){return n?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(n):!1}},5092:function(N){"use strict";N.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},5192:function(N,D,n){"use strict";const s=n(6654);N.exports=function(S){const f=s(S),g=f.hours===0?"":`${f.hours}h`,p=f.minutes===0?"":`${f.hours===0?f.minutes:` ${f.minutes.toString(10).padStart(2,"0")}`}m`,m=f.hours!==0?"":`${f.minutes===0?f.seconds:` ${f.seconds.toString(10).padStart(2,"0")}`}s`;return`${g}${p}${m}`}},6654:function(N){"use strict";N.exports=function(n){const s=Math.floor(n/3600)%24,u=Math.floor(n/60)%60,S=Math.floor(n%60);return{hours:s,minutes:u,seconds:S}}},7875:function(N){"use strict";N.exports=function(n){const s=[],u=[];function S(p){s.push(p)}function f(p){u.push(p)}return Promise.all(n.map(p=>p.then(S,f))).then(()=>({successful:s,failed:u}))}},9212:function(N){"use strict";N.exports=Array.from},5180:function(N){"use strict";const D="...";N.exports=function(s,u){if(u===0)return"";if(s.length<=u)return s;if(u<=D.length+1)return`${s.slice(0,u-1)}\u2026`;const S=u-D.length,f=Math.ceil(S/2),g=Math.floor(S/2);return s.slice(0,f)+D+s.slice(-g)}},7010:function(N,D){var n,s;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var u={}.hasOwnProperty;function S(){for(var f=[],g=0;g<arguments.length;g++){var p=arguments[g];if(!!p){var m=typeof p;if(m==="string"||m==="number")f.push(p);else if(Array.isArray(p)){if(p.length){var l=S.apply(null,p);l&&f.push(l)}}else if(m==="object")if(p.toString===Object.prototype.toString)for(var U in p)u.call(p,U)&&p[U]&&f.push(U);else f.push(p.toString())}}return f.join(" ")}N.exports?(S.default=S,N.exports=S):(n=[],s=function(){return S}.apply(D,n),s!==void 0&&(N.exports=s))})()},2076:function(N,D,n){(function(s,u){u(D)})(this,function(s){"use strict";function u(d,r){if(!(d instanceof r))throw new TypeError("Cannot call a class as a function")}function S(d,r){for(var i=0;i<r.length;i++){var e=r[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(d,e.key,e)}}function f(d,r,i){return r&&S(d.prototype,r),i&&S(d,i),d}function g(d,r,i){return r in d?Object.defineProperty(d,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):d[r]=i,d}function p(d,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(r&&r.prototype,{constructor:{value:d,writable:!0,configurable:!0}});var i=["prototype","__proto__","caller","arguments","length","name"];Object.getOwnPropertyNames(r).forEach(function(e){i.indexOf(e)===-1&&d[e]!==r[e]&&(d[e]=r[e])}),r&&l(d,r)}function m(d){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(d)}function l(d,r){return(l=Object.setPrototypeOf||function(i,e){return i.__proto__=e,i})(d,r)}function U(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function k(d,r,i){return(k=U()?Reflect.construct:function(e,t,o){var x=[null];x.push.apply(x,t);var C=new(Function.bind.apply(e,x));return o&&l(C,o.prototype),C}).apply(null,arguments)}function F(d){var r=typeof Map=="function"?new Map:void 0;return(F=function(i){if(i===null||(e=i,Function.toString.call(e).indexOf("[native code]")===-1))return i;var e;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(i))return r.get(i);r.set(i,t)}function t(){return k(i,arguments,m(this).constructor)}return t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),l(t,i)})(d)}function b(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function P(d,r){return!r||typeof r!="object"&&typeof r!="function"?b(d):r}function G(d){var r=U();return function(){var i,e=m(d);if(r){var t=m(this).constructor;i=Reflect.construct(e,arguments,t)}else i=e.apply(this,arguments);return P(this,i)}}function z(d,r,i){return(z=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,o){var x=function($,Z){for(;!Object.prototype.hasOwnProperty.call($,Z)&&($=m($))!==null;);return $}(e,t);if(x){var C=Object.getOwnPropertyDescriptor(x,t);return C.get?C.get.call(o):C.value}})(d,r,i||d)}var _=Object.values||function(d){var r=[];for(var i in d)r.push(d[i]);return r},y=Object.entries||function(d){var r=[];for(var i in d)r.push([i,d[i]]);return r},c=Object.assign||function(d){for(var r=arguments.length,i=new Array(r>1?r-1:0),e=1;e<r;e++)i[e-1]=arguments[e];return i.forEach(function(t){for(var o in t)d[o]=t[o]}),d},O=Object.fromEntries||function(d){var r={};return A(d).forEach(function(i){var e=i[0],t=i[1];r[e]=t}),r},A=Array.from||function(d){if(d instanceof M){var r=[];return d.forEach(function(i,e){return r.push([e,i])}),r}return Array.prototype.slice.call(d)};function te(d){return this.indexOf(d)!==-1}Array.prototype.includes||(Array.prototype.includes=te),String.prototype.includes||(String.prototype.includes=te),String.prototype.startsWith||(String.prototype.startsWith=function(d){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.substring(r,r+d.length)===d}),String.prototype.endsWith||(String.prototype.endsWith=function(d){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length;return this.substring(r-d.length,r)===d});var V=typeof self!="undefined"?self:n.g,W=V.fetch||function(d){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,e){var t=new XMLHttpRequest;if(t.open("get",d,!0),t.responseType="arraybuffer",t.onerror=e,r.headers)for(var o in r.headers)t.setRequestHeader(o,r.headers[o]);t.onload=function(){i({ok:t.status>=200&&t.status<300,status:t.status,arrayBuffer:function(){return Promise.resolve(t.response)}})},t.send(null)})},Q=function(d){var r=[];if(Object.defineProperties(r,{size:{get:function(){return this.length}},has:{value:function(e){return this.indexOf(e)!==-1}},add:{value:function(e){this.has(e)||this.push(e)}},delete:{value:function(e){if(this.has(e)){var t=this.indexOf(e);this.splice(t,1)}}}}),Array.isArray(d))for(var i=0;i<d.length;i++)r.add(d[i]);return r},T=function(d){return new M(d)},M=V.Map!==void 0&&V.Map.prototype.keys!==void 0?V.Map:function(){function d(r){if(u(this,d),this.clear(),r)for(var i=0;i<r.length;i++)this.set(r[i][0],r[i][1])}return f(d,[{key:"clear",value:function(){this._map={},this._keys=[]}},{key:"size",get:function(){return this._keys.length}},{key:"get",value:function(r){return this._map["map_"+r]}},{key:"set",value:function(r,i){return this._map["map_"+r]=i,this._keys.indexOf(r)<0&&this._keys.push(r),this}},{key:"has",value:function(r){return this._keys.indexOf(r)>=0}},{key:"delete",value:function(r){var i=this._keys.indexOf(r);return!(i<0)&&(delete this._map["map_"+r],this._keys.splice(i,1),!0)}},{key:"keys",value:function(){return this._keys.slice(0)}},{key:"values",value:function(){var r=this;return this._keys.map(function(i){return r.get(i)})}},{key:"entries",value:function(){var r=this;return this._keys.map(function(i){return[i,r.get(i)]})}},{key:"forEach",value:function(r,i){for(var e=0;e<this._keys.length;e++)r.call(i,this._map["map_"+this._keys[e]],this._keys[e],this)}}]),d}(),K=typeof self!="undefined"?self:n.g,ie=typeof navigator!="undefined",Y=ie&&typeof HTMLImageElement=="undefined",J=!(typeof n.g=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),le=K.Buffer,he=!!le,be=function(d){return d!==void 0};function pe(d){return d===void 0||(d instanceof M?d.size===0:_(d).filter(be).length===0)}function ge(d){var r=new Error(d);throw delete r.stack,r}function ke(d){var r=function(i){var e=0;return i.ifd0.enabled&&(e+=1024),i.exif.enabled&&(e+=2048),i.makerNote&&(e+=2048),i.userComment&&(e+=1024),i.gps.enabled&&(e+=512),i.interop.enabled&&(e+=100),i.ifd1.enabled&&(e+=1024),e+2048}(d);return d.jfif.enabled&&(r+=50),d.xmp.enabled&&(r+=2e4),d.iptc.enabled&&(r+=14e3),d.icc.enabled&&(r+=6e3),r}var Ae=function(d){return String.fromCharCode.apply(null,d)},we=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0;function H(d){return we?we.decode(d):he?Buffer.from(d).toString("utf8"):decodeURIComponent(escape(Ae(d)))}var X=function(){function d(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;if(u(this,d),typeof t=="boolean"&&(this.le=t),Array.isArray(r)&&(r=new Uint8Array(r)),r===0)this.byteOffset=0,this.byteLength=0;else if(r instanceof ArrayBuffer){e===void 0&&(e=r.byteLength-i);var o=new DataView(r,i,e);this._swapDataView(o)}else if(r instanceof Uint8Array||r instanceof DataView||r instanceof d){e===void 0&&(e=r.byteLength-i),(i+=r.byteOffset)+e>r.byteOffset+r.byteLength&&ge("Creating view outside of available memory in ArrayBuffer");var x=new DataView(r.buffer,i,e);this._swapDataView(x)}else if(typeof r=="number"){var C=new DataView(new ArrayBuffer(r));this._swapDataView(C)}else ge("Invalid input argument for BufferView: "+r)}return f(d,[{key:"_swapArrayBuffer",value:function(r){this._swapDataView(new DataView(r))}},{key:"_swapBuffer",value:function(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))}},{key:"_swapDataView",value:function(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength}},{key:"_lengthToEnd",value:function(r){return this.byteLength-r}},{key:"set",value:function(r,i){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d;r instanceof DataView||r instanceof d?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||ge("BufferView.set(): Invalid data argument.");var t=this.toUint8();return t.set(r,i),new e(this,i,r.byteLength)}},{key:"subarray",value:function(r,i){return new d(this,r,i=i||this._lengthToEnd(r))}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(r,i){return new Uint8Array(this.buffer,this.byteOffset+r,i)}},{key:"getString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,e=this.getUint8Array(r,i);return H(e)}},{key:"getLatin1String",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,e=this.getUint8Array(r,i);return Ae(e)}},{key:"getUnicodeString",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,e=[],t=0;t<i&&r+t<this.byteLength;t+=2)e.push(this.getUint16(r+t));return Ae(e)}},{key:"getInt8",value:function(r){return this.dataView.getInt8(r)}},{key:"getUint8",value:function(r){return this.dataView.getUint8(r)}},{key:"getInt16",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(r,i)}},{key:"getInt32",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(r,i)}},{key:"getUint16",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(r,i)}},{key:"getUint32",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(r,i)}},{key:"getFloat32",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,i)}},{key:"getFloat64",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,i)}},{key:"getFloat",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,i)}},{key:"getDouble",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,i)}},{key:"getUintBytes",value:function(r,i,e){switch(i){case 1:return this.getUint8(r,e);case 2:return this.getUint16(r,e);case 4:return this.getUint32(r,e);case 8:return this.getUint64&&this.getUint64(r,e)}}},{key:"getUint",value:function(r,i,e){switch(i){case 8:return this.getUint8(r,e);case 16:return this.getUint16(r,e);case 32:return this.getUint32(r,e);case 64:return this.getUint64&&this.getUint64(r,e)}}},{key:"toString",value:function(r){return this.dataView.toString(r,this.constructor.name)}},{key:"ensureChunk",value:function(){}}],[{key:"from",value:function(r,i){return r instanceof this&&r.le===i?r:new d(r,void 0,void 0,i)}}]),d}();function re(d,r){ge("".concat(d," '").concat(r,"' was not loaded, try using full build of exifr."))}var v=function(d){p(i,d);var r=G(i);function i(e){var t;return u(this,i),(t=r.call(this)).kind=e,t}return f(i,[{key:"get",value:function(e,t){return this.has(e)||re(this.kind,e),t&&(e in t||function(o,x){ge("Unknown ".concat(o," '").concat(x,"'."))}(this.kind,e),t[e].enabled||re(this.kind,e)),z(m(i.prototype),"get",this).call(this,e)}},{key:"keyList",value:function(){return A(this.keys())}}]),i}(F(M)),E=new v("file parser"),a=new v("segment parser"),w=new v("file reader");function R(d){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{return Promise.resolve(d.apply(this,r))}catch(e){return Promise.reject(e)}}}function B(d,r,i){return i?r?r(d):d:(d&&d.then||(d=Promise.resolve(d)),r?d.then(r):d)}var oe=R(function(d){return new Promise(function(r,i){var e=new FileReader;e.onloadend=function(){return r(e.result||new ArrayBuffer)},e.onerror=i,e.readAsArrayBuffer(d)})}),de=R(function(d){return W(d).then(function(r){return r.arrayBuffer()})}),ce=R(function(d,r){return B(r(d),function(i){return new X(i)})}),fe=R(function(d,r,i){var e=new(w.get(i))(d,r);return B(e.read(),function(){return e})}),j=R(function(d,r,i,e){return w.has(i)?fe(d,r,i):e?ce(d,e):(ge("Parser ".concat(i," is not loaded")),B())}),_e="Invalid input argument";function Pe(d,r){return(i=d).startsWith("data:")||i.length>1e4?fe(d,r,"base64"):ie?j(d,r,"url",de):J?fe(d,r,"fs"):void ge(_e);var i}var me=function(d){p(i,d);var r=G(i);function i(){return u(this,i),r.apply(this,arguments)}return f(i,[{key:"tagKeys",get:function(){return this.allKeys||(this.allKeys=A(this.keys())),this.allKeys}},{key:"tagValues",get:function(){return this.allValues||(this.allValues=A(this.values())),this.allValues}}]),i}(F(M));function Fe(d,r,i){var e=new me,t=i;Array.isArray(t)||(typeof t.entries=="function"&&(t=t.entries()),t=A(t));for(var o=0;o<t.length;o++){var x=t[o],C=x[0],$=x[1];e.set(C,$)}if(Array.isArray(r)){var Z=r;Array.isArray(Z)||(typeof Z.entries=="function"&&(Z=Z.entries()),Z=A(Z));for(var ae=0;ae<Z.length;ae++){var ee=Z[ae];d.set(ee,e)}}else d.set(r,e);return e}function Le(d,r,i){var e,t=d.get(r),o=i;Array.isArray(o)||(typeof o.entries=="function"&&(o=o.entries()),o=A(o));for(var x=0;x<o.length;x++)e=o[x],t.set(e[0],e[1])}var xe=T(),Ne=T(),Be=T(),je=37500,De=37510,Me=33723,Ze=34675,et=34665,ne=34853,h=40965,I=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],L=["jfif","xmp","icc","iptc","ihdr"],q=["tiff"].concat(L),se=["ifd0","ifd1","exif","gps","interop"],ue=[].concat(q,se),Te=["makerNote","userComment"],Se=["translateKeys","translateValues","reviveValues","multiSegment"],ve=[].concat(Se,["sanitize","mergeOutput","silentErrors"]),Re=function(){function d(){u(this,d)}return f(d,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),d}(),Ce=function(d){p(i,d);var r=G(i);function i(e,t,o,x){var C;if(u(this,i),g(b(C=r.call(this)),"enabled",!1),g(b(C),"skip",Q()),g(b(C),"pick",Q()),g(b(C),"deps",Q()),g(b(C),"translateKeys",!1),g(b(C),"translateValues",!1),g(b(C),"reviveValues",!1),C.key=e,C.enabled=t,C.parse=C.enabled,C.applyInheritables(x),C.canBeFiltered=se.includes(e),C.canBeFiltered&&(C.dict=xe.get(e)),o!==void 0)if(Array.isArray(o))C.parse=C.enabled=!0,C.canBeFiltered&&o.length>0&&C.translateTagSet(o,C.pick);else if(typeof o=="object"){if(C.enabled=!0,C.parse=o.parse!==!1,C.canBeFiltered){var $=o.pick,Z=o.skip;$&&$.length>0&&C.translateTagSet($,C.pick),Z&&Z.length>0&&C.translateTagSet(Z,C.skip)}C.applyInheritables(o)}else o===!0||o===!1?C.parse=C.enabled=o:ge("Invalid options argument: ".concat(o));return C}return f(i,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}},{key:"applyInheritables",value:function(e){var t,o,x=Se;Array.isArray(x)||(typeof x.entries=="function"&&(x=x.entries()),x=A(x));for(var C=0;C<x.length;C++)(o=e[t=x[C]])!==void 0&&(this[t]=o)}},{key:"translateTagSet",value:function(e,t){if(this.dict){var o,x,C=this.dict,$=C.tagKeys,Z=C.tagValues,ae=e;Array.isArray(ae)||(typeof ae.entries=="function"&&(ae=ae.entries()),ae=A(ae));for(var ee=0;ee<ae.length;ee++)typeof(o=ae[ee])=="string"?((x=Z.indexOf(o))===-1&&(x=$.indexOf(Number(o))),x!==-1&&t.add(Number($[x]))):t.add(o)}else{var ye=e;Array.isArray(ye)||(typeof ye.entries=="function"&&(ye=ye.entries()),ye=A(ye));for(var Ee=0;Ee<ye.length;Ee++){var Oe=ye[Ee];t.add(Oe)}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,st(this.pick,this.deps)):this.enabled&&this.pick.size>0&&st(this.pick,this.deps)}}]),i}(Re),Ie={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Xe=T(),Ue=function(d){p(i,d);var r=G(i);function i(e){var t;return u(this,i),t=r.call(this),e===!0?t.setupFromTrue():e===void 0?t.setupFromUndefined():Array.isArray(e)?t.setupFromArray(e):typeof e=="object"?t.setupFromObject(e):ge("Invalid options argument ".concat(e)),t.firstChunkSize===void 0&&(t.firstChunkSize=ie?t.firstChunkSizeBrowser:t.firstChunkSizeNode),t.mergeOutput&&(t.ifd1.enabled=!1),t.filterNestedSegmentTags(),t.traverseTiffDependencyTree(),t.checkLoadedPlugins(),t}return f(i,[{key:"setupFromUndefined",value:function(){var e,t=I;Array.isArray(t)||(typeof t.entries=="function"&&(t=t.entries()),t=A(t));for(var o=0;o<t.length;o++)this[e=t[o]]=Ie[e];var x=ve;Array.isArray(x)||(typeof x.entries=="function"&&(x=x.entries()),x=A(x));for(var C=0;C<x.length;C++)this[e=x[C]]=Ie[e];var $=Te;Array.isArray($)||(typeof $.entries=="function"&&($=$.entries()),$=A($));for(var Z=0;Z<$.length;Z++)this[e=$[Z]]=Ie[e];var ae=ue;Array.isArray(ae)||(typeof ae.entries=="function"&&(ae=ae.entries()),ae=A(ae));for(var ee=0;ee<ae.length;ee++)this[e=ae[ee]]=new Ce(e,Ie[e],void 0,this)}},{key:"setupFromTrue",value:function(){var e,t=I;Array.isArray(t)||(typeof t.entries=="function"&&(t=t.entries()),t=A(t));for(var o=0;o<t.length;o++)this[e=t[o]]=Ie[e];var x=ve;Array.isArray(x)||(typeof x.entries=="function"&&(x=x.entries()),x=A(x));for(var C=0;C<x.length;C++)this[e=x[C]]=Ie[e];var $=Te;Array.isArray($)||(typeof $.entries=="function"&&($=$.entries()),$=A($));for(var Z=0;Z<$.length;Z++)this[e=$[Z]]=!0;var ae=ue;Array.isArray(ae)||(typeof ae.entries=="function"&&(ae=ae.entries()),ae=A(ae));for(var ee=0;ee<ae.length;ee++)this[e=ae[ee]]=new Ce(e,!0,void 0,this)}},{key:"setupFromArray",value:function(e){var t,o=I;Array.isArray(o)||(typeof o.entries=="function"&&(o=o.entries()),o=A(o));for(var x=0;x<o.length;x++)this[t=o[x]]=Ie[t];var C=ve;Array.isArray(C)||(typeof C.entries=="function"&&(C=C.entries()),C=A(C));for(var $=0;$<C.length;$++)this[t=C[$]]=Ie[t];var Z=Te;Array.isArray(Z)||(typeof Z.entries=="function"&&(Z=Z.entries()),Z=A(Z));for(var ae=0;ae<Z.length;ae++)this[t=Z[ae]]=Ie[t];var ee=ue;Array.isArray(ee)||(typeof ee.entries=="function"&&(ee=ee.entries()),ee=A(ee));for(var ye=0;ye<ee.length;ye++)this[t=ee[ye]]=new Ce(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,se)}},{key:"setupFromObject",value:function(e){var t;se.ifd0=se.ifd0||se.image,se.ifd1=se.ifd1||se.thumbnail,c(this,e);var o=I;Array.isArray(o)||(typeof o.entries=="function"&&(o=o.entries()),o=A(o));for(var x=0;x<o.length;x++)this[t=o[x]]=it(e[t],Ie[t]);var C=ve;Array.isArray(C)||(typeof C.entries=="function"&&(C=C.entries()),C=A(C));for(var $=0;$<C.length;$++)this[t=C[$]]=it(e[t],Ie[t]);var Z=Te;Array.isArray(Z)||(typeof Z.entries=="function"&&(Z=Z.entries()),Z=A(Z));for(var ae=0;ae<Z.length;ae++)this[t=Z[ae]]=it(e[t],Ie[t]);var ee=q;Array.isArray(ee)||(typeof ee.entries=="function"&&(ee=ee.entries()),ee=A(ee));for(var ye=0;ye<ee.length;ye++)this[t=ee[ye]]=new Ce(t,Ie[t],e[t],this);var Ee=se;Array.isArray(Ee)||(typeof Ee.entries=="function"&&(Ee=Ee.entries()),Ee=A(Ee));for(var Oe=0;Oe<Ee.length;Oe++)this[t=Ee[Oe]]=new Ce(t,Ie[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,se,ue),e.tiff===!0?this.batchEnableWithBool(se,!0):e.tiff===!1?this.batchEnableWithUserValue(se,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,se):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,se)}},{key:"batchEnableWithBool",value:function(e,t){var o=e;Array.isArray(o)||(typeof o.entries=="function"&&(o=o.entries()),o=A(o));for(var x=0;x<o.length;x++)this[o[x]].enabled=t}},{key:"batchEnableWithUserValue",value:function(e,t){var o=e;Array.isArray(o)||(typeof o.entries=="function"&&(o=o.entries()),o=A(o));for(var x=0;x<o.length;x++){var C=o[x],$=t[C];this[C].enabled=$!==!1&&$!==void 0}}},{key:"setupGlobalFilters",value:function(e,t,o){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;if(e&&e.length){var C=x;Array.isArray(C)||(typeof C.entries=="function"&&(C=C.entries()),C=A(C));for(var $=0;$<C.length;$++){var Z=C[$];this[Z].enabled=!1}var ae=pt(e,o),ee=ae;Array.isArray(ee)||(typeof ee.entries=="function"&&(ee=ee.entries()),ee=A(ee));for(var ye=0;ye<ee.length;ye++){var Ee=ee[ye],Oe=Ee[0],Ve=Ee[1];st(this[Oe].pick,Ve),this[Oe].enabled=!0}}else if(t&&t.length){var ss=pt(t,o),Ke=ss;Array.isArray(Ke)||(typeof Ke.entries=="function"&&(Ke=Ke.entries()),Ke=A(Ke));for(var ht=0;ht<Ke.length;ht++){var kt=Ke[ht],rs=kt[0],ns=kt[1];st(this[rs].skip,ns)}}}},{key:"filterNestedSegmentTags",value:function(){var e=this.ifd0,t=this.exif,o=this.xmp,x=this.iptc,C=this.icc;this.makerNote?t.deps.add(je):t.skip.add(je),this.userComment?t.deps.add(De):t.skip.add(De),o.enabled||e.skip.add(700),x.enabled||e.skip.add(Me),C.enabled||e.skip.add(Ze)}},{key:"traverseTiffDependencyTree",value:function(){var e=this,t=this.ifd0,o=this.exif,x=this.gps;this.interop.needed&&(o.deps.add(h),t.deps.add(h)),o.needed&&t.deps.add(et),x.needed&&t.deps.add(ne),this.tiff.enabled=se.some(function(Z){return e[Z].enabled===!0})||this.makerNote||this.userComment;var C=se;Array.isArray(C)||(typeof C.entries=="function"&&(C=C.entries()),C=A(C));for(var $=0;$<C.length;$++)this[C[$]].finalizeFilters()}},{key:"onlyTiff",get:function(){var e=this;return!L.map(function(t){return e[t].enabled}).some(function(t){return t===!0})&&this.tiff.enabled}},{key:"checkLoadedPlugins",value:function(){var e=q;Array.isArray(e)||(typeof e.entries=="function"&&(e=e.entries()),e=A(e));for(var t=0;t<e.length;t++){var o=e[t];this[o].enabled&&!a.has(o)&&re("segment parser",o)}}}],[{key:"useCached",value:function(e){var t=Xe.get(e);return t!==void 0||(t=new this(e),Xe.set(e,t)),t}}]),i}(Re);function pt(d,r){var i,e,t,o=[],x=r;Array.isArray(x)||(typeof x.entries=="function"&&(x=x.entries()),x=A(x));for(var C=0;C<x.length;C++){e=x[C],i=[];var $=xe.get(e);Array.isArray($)||(typeof $.entries=="function"&&($=$.entries()),$=A($));for(var Z=0;Z<$.length;Z++)t=$[Z],(d.includes(t[0])||d.includes(t[1]))&&i.push(t[0]);i.length&&o.push([e,i])}return o}function it(d,r){return d!==void 0?d:r!==void 0?r:void 0}function st(d,r){var i=r;Array.isArray(i)||(typeof i.entries=="function"&&(i=i.entries()),i=A(i));for(var e=0;e<i.length;e++){var t=i[e];d.add(t)}}function Ye(d,r,i){return i?r?r(d):d:(d&&d.then||(d=Promise.resolve(d)),r?d.then(r):d)}function ft(){}function mt(d,r){if(!r)return d&&d.then?d.then(ft):Promise.resolve()}function gt(d,r){var i=d();return i&&i.then?i.then(r):r(i)}g(Ue,"default",Ie);var qe=function(){function d(r){u(this,d),g(this,"parsers",{}),this.options=Ue.useCached(r)}return f(d,[{key:"setup",value:function(){if(!this.fileParser){var r=this.file,i=r.getUint16(0),e=E;Array.isArray(e)||(typeof e.entries=="function"&&(e=e.entries()),e=A(e));for(var t=0;t<e.length;t++){var o=e[t],x=o[0],C=o[1];if(C.canHandle(r,i))return this.fileParser=new C(this.options,this.file,this.parsers),r[x]=!0}ge("Unknown file format")}}},{key:"read",value:function(r){try{var i=this;return Ye(function(e,t){return typeof e=="string"?Pe(e,t):ie&&!Y&&e instanceof HTMLImageElement?Pe(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new X(e):ie&&e instanceof Blob?j(e,t,"blob",oe):void ge(_e)}(r,i.options),function(e){i.file=e})}catch(e){return Promise.reject(e)}}},{key:"parse",value:function(){try{var r=this;r.setup();var i={},e=[];return gt(function(){return r.options.silentErrors?Ye(r.doParse(i,e).catch(function(t){return e.push(t)}),function(){e.push.apply(e,r.fileParser.errors)}):mt(r.doParse(i,e))},function(){return r.file.close&&r.file.close(),r.options.silentErrors&&e.length>0&&(i.errors=e),pe(t=i)?void 0:t;var t})}catch(t){return Promise.reject(t)}}},{key:"doParse",value:function(r,i){try{var e=this;return Ye(e.fileParser.parse(),function(){var t,o=_(e.parsers).map((t=function(C){return Ye(C.parse(),function($){C.assignToOutput(r,$)})},function(){for(var C=[],$=0;$<arguments.length;$++)C[$]=arguments[$];try{return Promise.resolve(t.apply(this,C))}catch(Z){return Promise.reject(Z)}}));if(e.options.silentErrors){var x=function(C){return i.push(C)};o=o.map(function(C){return C.catch(x)})}return mt(Promise.all(o))})}catch(t){return Promise.reject(t)}}},{key:"extractThumbnail",value:function(){try{var r=this;r.setup();var i,e=r.options,t=r.file,o=a.get("tiff",e);return gt(function(){if(!t.tiff)return function(x){var C=x();if(C&&C.then)return C.then(ft)}(function(){if(t.jpeg)return Ye(r.fileParser.getOrFindSegment("tiff"),function(x){i=x})});i={start:0,type:"tiff"}},function(){if(i!==void 0)return Ye(r.fileParser.ensureSegmentChunk(i),function(x){return Ye((r.parsers.tiff=new o(x,e,t)).extractThumbnail(),function(C){return t.close&&t.close(),C})})})}catch(x){return Promise.reject(x)}}}]),d}(),yt,ot=(yt=function(d,r){var i,e,t,o=new qe(r);return i=o.read(d),e=function(){return o.parse()},t?e?e(i):i:(i&&i.then||(i=Promise.resolve(i)),e?i.then(e):i)},function(){for(var d=[],r=0;r<arguments.length;r++)d[r]=arguments[r];try{return Promise.resolve(yt.apply(this,d))}catch(i){return Promise.reject(i)}}),Ct=Object.freeze({__proto__:null,parse:ot,Exifr:qe,fileParsers:E,segmentParsers:a,fileReaders:w,tagKeys:xe,tagValues:Ne,tagRevivers:Be,createDictionary:Fe,extendDictionary:Le,fetchUrlAsArrayBuffer:de,readBlobAsArrayBuffer:oe,chunkedProps:I,otherSegments:L,segments:q,tiffBlocks:se,segmentsAndBlocks:ue,tiffExtractables:Te,inheritables:Se,allFormatters:ve,Options:Ue});function at(){}var Ut=function(){function d(r,i,e){var t=this;u(this,d),g(this,"errors",[]),g(this,"ensureSegmentChunk",function(o){return function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];try{return Promise.resolve(o.apply(this,x))}catch($){return Promise.reject($)}}}(function(o){var x,C,$,Z=o.start,ae=o.size||65536;return x=function(){if(t.file.chunked)return function(ee){var ye=ee();if(ye&&ye.then)return ye.then(at)}(function(){if(!t.file.available(Z,ae))return function(ee){if(ee&&ee.then)return ee.then(at)}(function(ee,ye){try{var Ee=ee()}catch(Oe){return ye(Oe)}return Ee&&Ee.then?Ee.then(void 0,ye):Ee}(function(){return ee=t.file.readChunk(Z,ae),ye=function(Oe){o.chunk=Oe},Ee?ye?ye(ee):ee:(ee&&ee.then||(ee=Promise.resolve(ee)),ye?ee.then(ye):ee);var ee,ye,Ee},function(ee){ge("Couldn't read segment: ".concat(JSON.stringify(o),". ").concat(ee.message))}));o.chunk=t.file.subarray(Z,ae)});t.file.byteLength>Z+ae?o.chunk=t.file.subarray(Z,ae):o.size===void 0?o.chunk=t.file.subarray(Z):ge("Segment unreachable: "+JSON.stringify(o))},C=function(){return o.chunk},($=x())&&$.then?$.then(C):C($)})),this.extendOptions&&this.extendOptions(r),this.options=r,this.file=i,this.parsers=e}return f(d,[{key:"injectSegment",value:function(r,i){this.options[r].enabled&&this.createParser(r,i)}},{key:"createParser",value:function(r,i){var e=new(a.get(r))(i,this.options,this.file);return this.parsers[r]=e}},{key:"createParsers",value:function(r){var i=r;Array.isArray(i)||(typeof i.entries=="function"&&(i=i.entries()),i=A(i));for(var e=0;e<i.length;e++){var t=i[e],o=t.type,x=t.chunk,C=this.options[o];if(C&&C.enabled){var $=this.parsers[o];$&&$.append||$||this.createParser(o,x)}}}},{key:"readSegments",value:function(r){try{var i=r.map(this.ensureSegmentChunk);return function(e,t){if(!t)return e&&e.then?e.then(at):Promise.resolve()}(Promise.all(i))}catch(e){return Promise.reject(e)}}}]),d}(),Qe=function(){function d(r){var i=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;u(this,d),g(this,"errors",[]),g(this,"raw",T()),g(this,"handleError",function(o){if(!i.options.silentErrors)throw o;i.errors.push(o.message)}),this.chunk=this.normalizeInput(r),this.file=t,this.type=this.constructor.type,this.globalOptions=this.options=e,this.localOptions=e[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return f(d,[{key:"normalizeInput",value:function(r){return r instanceof X?r:new X(r)}},{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"output",get:function(){return this.translated?this.translated:this.raw?O(this.raw):void 0}},{key:"translateBlock",value:function(r,i){var e=Be.get(i),t=Ne.get(i),o=xe.get(i),x=this.options[i],C=x.reviveValues&&!!e,$=x.translateValues&&!!t,Z=x.translateKeys&&!!o,ae={},ee=r;Array.isArray(ee)||(typeof ee.entries=="function"&&(ee=ee.entries()),ee=A(ee));for(var ye=0;ye<ee.length;ye++){var Ee=ee[ye],Oe=Ee[0],Ve=Ee[1];C&&e.has(Oe)?Ve=e.get(Oe)(Ve):$&&t.has(Oe)&&(Ve=this.translateValue(Ve,t.get(Oe))),Z&&o.has(Oe)&&(Oe=o.get(Oe)||Oe),ae[Oe]=Ve}return ae}},{key:"translateValue",value:function(r,i){return i[r]||i.DEFAULT||r}},{key:"assignToOutput",value:function(r,i){this.assignObjectToOutput(r,this.constructor.type,i)}},{key:"assignObjectToOutput",value:function(r,i,e){if(this.globalOptions.mergeOutput)return c(r,e);r[i]?c(r[i],e):r[i]=e}}],[{key:"findPosition",value:function(r,i){var e=r.getUint16(i+2)+2,t=typeof this.headerLength=="function"?this.headerLength(r,i,e):this.headerLength,o=i+t,x=e-t;return{offset:i,length:e,headerLength:t,start:o,size:x,end:o+x}}},{key:"parse",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=new Ue(g({},this.type,i)),t=new this(r,e);return t.parse()}}]),d}();function tt(d,r,i){return i?r?r(d):d:(d&&d.then||(d=Promise.resolve(d)),r?d.then(r):d)}g(Qe,"headerLength",4),g(Qe,"type",void 0),g(Qe,"multiSegment",!1),g(Qe,"canHandle",function(){return!1});function vt(){}function Nt(d,r){if(!r)return d&&d.then?d.then(vt):Promise.resolve()}function It(d){var r=d();if(r&&r.then)return r.then(vt)}function lt(d,r){var i=d();return i&&i.then?i.then(r):r(i)}function ze(d,r,i){if(!d.s){if(i instanceof ut){if(!i.s)return void(i.o=ze.bind(null,d,r));1&r&&(r=i.s),i=i.v}if(i&&i.then)return void i.then(ze.bind(null,d,r),ze.bind(null,d,2));d.s=r,d.v=i;var e=d.o;e&&e(d)}}var ut=function(){function d(){}return d.prototype.then=function(r,i){var e=new d,t=this.s;if(t){var o=1&t?r:i;if(o){try{ze(e,1,o(this.v))}catch(x){ze(e,2,x)}return e}return this}return this.o=function(x){try{var C=x.v;1&x.s?ze(e,1,r?r(C):C):i?ze(e,1,i(C)):ze(e,2,C)}catch($){ze(e,2,$)}},e},d}();function Je(d){return d instanceof ut&&1&d.s}function Rt(d,r,i){for(var e;;){var t=d();if(Je(t)&&(t=t.v),!t)return o;if(t.then){e=0;break}var o=i();if(o&&o.then){if(!Je(o)){e=1;break}o=o.s}if(r){var x=r();if(x&&x.then&&!Je(x)){e=2;break}}}var C=new ut,$=ze.bind(null,C,2);return(e===0?t.then(ae):e===1?o.then(Z):x.then(ee)).then(void 0,$),C;function Z(ye){o=ye;do{if(r&&(x=r())&&x.then&&!Je(x))return void x.then(ee).then(void 0,$);if(!(t=d())||Je(t)&&!t.v)return void ze(C,1,o);if(t.then)return void t.then(ae).then(void 0,$);Je(o=i())&&(o=o.v)}while(!o||!o.then);o.then(Z).then(void 0,$)}function ae(ye){ye?(o=i())&&o.then?o.then(Z).then(void 0,$):Z(o):ze(C,1,o)}function ee(){(t=d())?t.then?t.then(ae).then(void 0,$):ae(t):ze(C,1,o)}}function Bt(d){return d===192||d===194||d===196||d===219||d===221||d===218||d===254}function Dt(d){return d>=224&&d<=239}function Lt(d,r,i){var e=a;Array.isArray(e)||(typeof e.entries=="function"&&(e=e.entries()),e=A(e));for(var t=0;t<e.length;t++){var o=e[t],x=o[0];if(o[1].canHandle(d,r,i))return x}}var bt=function(d){p(i,d);var r=G(i);function i(){var e;u(this,i);for(var t=arguments.length,o=new Array(t),x=0;x<t;x++)o[x]=arguments[x];return g(b(e=r.call.apply(r,[this].concat(o))),"appSegments",[]),g(b(e),"jpegSegments",[]),g(b(e),"unknownSegments",[]),e}return f(i,[{key:"parse",value:function(){try{var e=this;return tt(e.findAppSegments(),function(){return tt(e.readSegments(e.appSegments),function(){e.mergeMultiSegments(),e.createParsers(e.mergedAppSegments||e.appSegments)})})}catch(t){return Promise.reject(t)}}},{key:"setupSegmentFinderArgs",value:function(e){var t=this;e===!0?(this.findAll=!0,this.wanted=Q(a.keyList())):(e=e===void 0?a.keyList().filter(function(o){return t.options[o].enabled}):e.filter(function(o){return t.options[o].enabled&&a.has(o)}),this.findAll=!1,this.remaining=Q(e),this.wanted=Q(e)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;try{var o=this;o.setupSegmentFinderArgs(t);var x=o.file,C=o.findAll,$=o.wanted,Z=o.remaining;return lt(function(){if(!C&&o.file.chunked)return C=A($).some(function(ae){var ee=a.get(ae),ye=o.options[ae];return ee.multiSegment&&ye.multiSegment}),It(function(){if(C)return Nt(o.file.readWhole())})},function(){var ae=!1;if(e=o.findAppSegmentsInRange(e,x.byteLength),!o.options.onlyTiff)return function(){if(x.chunked){var ee=!1;return Rt(function(){return!ae&&Z.size>0&&!ee&&(!!x.canReadNextChunk||!!o.unfinishedMultiSegment)},void 0,function(){var ye=x.nextChunkOffset,Ee=o.appSegments.some(function(Oe){return!o.file.available(Oe.offset||Oe.start,Oe.length||Oe.size)});return lt(function(){return e>ye&&!Ee?tt(x.readNextChunk(e),function(Oe){ee=!Oe}):tt(x.readNextChunk(ye),function(Oe){ee=!Oe})},function(){(e=o.findAppSegmentsInRange(e,x.byteLength))===void 0&&(ae=!0)})})}}()})}catch(ae){return Promise.reject(ae)}}},{key:"findAppSegmentsInRange",value:function(e,t){t-=2;for(var o,x,C,$,Z,ae,ee=this.file,ye=this.findAll,Ee=this.wanted,Oe=this.remaining,Ve=this.options;e<t;e++)if(ee.getUint8(e)===255){if(Dt(o=ee.getUint8(e+1))){if(x=ee.getUint16(e+2),(C=Lt(ee,e,x))&&Ee.has(C)&&(Z=($=a.get(C)).findPosition(ee,e),ae=Ve[C],Z.type=C,this.appSegments.push(Z),!ye&&($.multiSegment&&ae.multiSegment?(this.unfinishedMultiSegment=Z.chunkNumber<Z.chunkCount,this.unfinishedMultiSegment||Oe.delete(C)):Oe.delete(C),Oe.size===0)))break;Ve.recordUnknownSegments&&((Z=Qe.findPosition(ee,e)).marker=o,this.unknownSegments.push(Z)),e+=x+1}else if(Bt(o)){if(x=ee.getUint16(e+2),o===218&&Ve.stopAfterSos!==!1)return;Ve.recordJpegSegments&&this.jpegSegments.push({offset:e,length:x,marker:o}),e+=x+1}}return e}},{key:"mergeMultiSegments",value:function(){var e=this;if(this.appSegments.some(function(o){return o.multiSegment})){var t=function(o,x){for(var C,$,Z,ae=T(),ee=0;ee<o.length;ee++)$=(C=o[ee])[x],ae.has($)?Z=ae.get($):ae.set($,Z=[]),Z.push(C);return A(ae)}(this.appSegments,"type");this.mergedAppSegments=t.map(function(o){var x=o[0],C=o[1],$=a.get(x,e.options);return $.handleMultiSegments?{type:x,chunk:$.handleMultiSegments(C)}:C[0]})}}},{key:"getSegment",value:function(e){return this.appSegments.find(function(t){return t.type===e})}},{key:"getOrFindSegment",value:function(e){try{var t=this,o=t.getSegment(e);return lt(function(){if(o===void 0)return tt(t.findAppSegments(0,[e]),function(){o=t.getSegment(e)})},function(){return o})}catch(x){return Promise.reject(x)}}}],[{key:"canHandle",value:function(e,t){return t===65496}}]),i}(Ut);function Mt(){}g(bt,"type","jpeg"),E.set("jpeg",bt);function $e(d,r){if(!r)return d&&d.then?d.then(Mt):Promise.resolve()}function He(d,r){var i=d();return i&&i.then?i.then(r):r(i)}var jt=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],ct=function(d){p(i,d);var r=G(i);function i(){return u(this,i),r.apply(this,arguments)}return f(i,[{key:"parse",value:function(){try{var e=this;e.parseHeader();var t=e.options;return He(function(){if(t.ifd0.enabled)return $e(e.parseIfd0Block())},function(){return He(function(){if(t.exif.enabled)return $e(e.safeParse("parseExifBlock"))},function(){return He(function(){if(t.gps.enabled)return $e(e.safeParse("parseGpsBlock"))},function(){return He(function(){if(t.interop.enabled)return $e(e.safeParse("parseInteropBlock"))},function(){return He(function(){if(t.ifd1.enabled)return $e(e.safeParse("parseThumbnailBlock"))},function(){return e.createOutput()})})})})})}catch(o){return Promise.reject(o)}}},{key:"safeParse",value:function(e){var t=this[e]();return t.catch!==void 0&&(t=t.catch(this.handleError)),t}},{key:"findIfd0Offset",value:function(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}},{key:"parseBlock",value:function(e,t){var o=T();return this[t]=o,this.parseTags(e,t,o),o}},{key:"parseIfd0Block",value:function(){try{var e=this;if(e.ifd0)return;var t=e.file;return e.findIfd0Offset(),e.ifd0Offset<8&&ge("Malformed EXIF data"),!t.chunked&&e.ifd0Offset>t.byteLength&&ge(`IFD0 offset points to outside of file.
this.ifd0Offset: `.concat(e.ifd0Offset,", file.byteLength: ").concat(t.byteLength)),He(function(){if(t.tiff)return $e(t.ensureChunk(e.ifd0Offset,ke(e.options)))},function(){var o=e.parseBlock(e.ifd0Offset,"ifd0");if(o.size!==0)return e.exifOffset=o.get(et),e.interopOffset=o.get(h),e.gpsOffset=o.get(ne),e.xmp=o.get(700),e.iptc=o.get(Me),e.icc=o.get(Ze),e.options.sanitize&&(o.delete(et),o.delete(h),o.delete(ne),o.delete(700),o.delete(Me),o.delete(Ze)),o})}catch(o){return Promise.reject(o)}}},{key:"parseExifBlock",value:function(){try{var e=this;return e.exif?void 0:He(function(){if(!e.ifd0)return $e(e.parseIfd0Block())},function(){if(e.exifOffset!==void 0)return He(function(){if(e.file.tiff)return $e(e.file.ensureChunk(e.exifOffset,ke(e.options)))},function(){var t=e.parseBlock(e.exifOffset,"exif");return e.interopOffset||(e.interopOffset=t.get(h)),e.makerNote=t.get(je),e.userComment=t.get(De),e.options.sanitize&&(t.delete(h),t.delete(je),t.delete(De)),e.unpack(t,41728),e.unpack(t,41729),t})})}catch(t){return Promise.reject(t)}}},{key:"unpack",value:function(e,t){var o=e.get(t);o&&o.length===1&&e.set(t,o[0])}},{key:"parseGpsBlock",value:function(){try{var e=this;return e.gps?void 0:He(function(){if(!e.ifd0)return $e(e.parseIfd0Block())},function(){if(e.gpsOffset!==void 0){var t=e.parseBlock(e.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",wt.apply(void 0,t.get(2).concat([t.get(1)]))),t.set("longitude",wt.apply(void 0,t.get(4).concat([t.get(3)])))),t}})}catch(t){return Promise.reject(t)}}},{key:"parseInteropBlock",value:function(){try{var e=this;return e.interop?void 0:He(function(){if(!e.ifd0)return $e(e.parseIfd0Block())},function(){return He(function(){if(e.interopOffset===void 0&&!e.exif)return $e(e.parseExifBlock())},function(){if(e.interopOffset!==void 0)return e.parseBlock(e.interopOffset,"interop")})})}catch(t){return Promise.reject(t)}}},{key:"parseThumbnailBlock",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];try{var t=this;return t.ifd1||t.ifd1Parsed||t.options.mergeOutput&&!e?void 0:(t.findIfd1Offset(),t.ifd1Offset>0&&(t.parseBlock(t.ifd1Offset,"ifd1"),t.ifd1Parsed=!0),t.ifd1)}catch(o){return Promise.reject(o)}}},{key:"extractThumbnail",value:function(){try{var e=this;return e.headerParsed||e.parseHeader(),He(function(){if(!e.ifd1Parsed)return $e(e.parseThumbnailBlock(!0))},function(){if(e.ifd1!==void 0){var t=e.ifd1.get(513),o=e.ifd1.get(514);return e.chunk.getUint8Array(t,o)}})}catch(t){return Promise.reject(t)}}},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}},{key:"createOutput",value:function(){var e,t,o,x={},C=se;Array.isArray(C)||(typeof C.entries=="function"&&(C=C.entries()),C=A(C));for(var $=0;$<C.length;$++)if(!pe(e=this[t=C[$]]))if(o=this.canTranslate?this.translateBlock(e,t):O(e),this.options.mergeOutput){if(t==="ifd1")continue;c(x,o)}else x[t]=o;return this.makerNote&&(x.makerNote=this.makerNote),this.userComment&&(x.userComment=this.userComment),x}},{key:"assignToOutput",value:function(e,t){if(this.globalOptions.mergeOutput)c(e,t);else{var o=y(t);Array.isArray(o)||(typeof o.entries=="function"&&(o=o.entries()),o=A(o));for(var x=0;x<o.length;x++){var C=o[x],$=C[0],Z=C[1];this.assignObjectToOutput(e,$,Z)}}}}],[{key:"canHandle",value:function(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1165519206&&e.getUint16(t+8)===0}}]),i}(function(d){p(i,d);var r=G(i);function i(){return u(this,i),r.apply(this,arguments)}return f(i,[{key:"parseHeader",value:function(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T(),x=this.options[t],C=x.pick,$=x.skip,Z=(C=Q(C)).size>0,ae=$.size===0,ee=this.chunk.getUint16(e);e+=2;for(var ye=0;ye<ee;ye++){var Ee=this.chunk.getUint16(e);if(Z){if(C.has(Ee)&&(o.set(Ee,this.parseTag(e,Ee,t)),C.delete(Ee),C.size===0))break}else!ae&&$.has(Ee)||o.set(Ee,this.parseTag(e,Ee,t));e+=12}return o}},{key:"parseTag",value:function(e,t,o){var x,C=this.chunk,$=C.getUint16(e+2),Z=C.getUint32(e+4),ae=jt[$];if(ae*Z<=4?e+=8:e=C.getUint32(e+8),($<1||$>13)&&ge("Invalid TIFF value type. block: ".concat(o.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat($,", offset ").concat(e)),e>C.byteLength&&ge("Invalid TIFF value offset. block: ".concat(o.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat($,", offset ").concat(e," is outside of chunk size ").concat(C.byteLength)),$===1)return C.getUint8Array(e,Z);if($===2)return(x=function(Oe){for(;Oe.endsWith("\0");)Oe=Oe.slice(0,-1);return Oe}(x=C.getString(e,Z)).trim())===""?void 0:x;if($===7)return C.getUint8Array(e,Z);if(Z===1)return this.parseTagValue($,e);for(var ee=new(function(Oe){switch(Oe){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}($))(Z),ye=ae,Ee=0;Ee<Z;Ee++)ee[Ee]=this.parseTagValue($,e),e+=ye;return ee}},{key:"parseTagValue",value:function(e,t){var o=this.chunk;switch(e){case 1:return o.getUint8(t);case 3:return o.getUint16(t);case 4:return o.getUint32(t);case 5:return o.getUint32(t)/o.getUint32(t+4);case 6:return o.getInt8(t);case 8:return o.getInt16(t);case 9:return o.getInt32(t);case 10:return o.getInt32(t)/o.getInt32(t+4);case 11:return o.getFloat(t);case 12:return o.getDouble(t);case 13:return o.getUint32(t);default:ge("Invalid tiff type ".concat(e))}}}]),i}(Qe));function wt(d,r,i,e){var t=d+r/60+i/3600;return e!=="S"&&e!=="W"||(t*=-1),t}g(ct,"type","tiff"),g(ct,"headerLength",10),a.set("tiff",ct);var zt=Object.freeze({__proto__:null,default:Ct,Exifr:qe,fileParsers:E,segmentParsers:a,fileReaders:w,tagKeys:xe,tagValues:Ne,tagRevivers:Be,createDictionary:Fe,extendDictionary:Le,fetchUrlAsArrayBuffer:de,readBlobAsArrayBuffer:oe,chunkedProps:I,otherSegments:L,segments:q,tiffBlocks:se,segmentsAndBlocks:ue,tiffExtractables:Te,inheritables:Se,allFormatters:ve,Options:Ue,parse:ot});function Ge(d,r,i){return i?r?r(d):d:(d&&d.then||(d=Promise.resolve(d)),r?d.then(r):d)}function rt(d){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{return Promise.resolve(d.apply(this,r))}catch(e){return Promise.reject(e)}}}var Pt=rt(function(d){var r=new qe(Ft);return Ge(r.read(d),function(){return Ge(r.parse(),function(i){if(i&&i.ifd0)return i.ifd0[274]})})}),$t=rt(function(d){var r=new qe(St);return Ge(r.read(d),function(){return Ge(r.parse(),function(i){if(i&&i.gps){var e=i.gps;return{latitude:e.latitude,longitude:e.longitude}}})})}),Ht=rt(function(d){return Ge(this.thumbnail(d),function(r){if(r!==void 0){var i=new Blob([r]);return URL.createObjectURL(i)}})}),Vt=rt(function(d){var r=new qe(Ot);return Ge(r.read(d),function(){return Ge(r.extractThumbnail(),function(i){return i&&he?le.from(i):i})})}),nt={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},St=c({},nt,{firstChunkSize:4e4,gps:[1,2,3,4]}),Ft=c({},nt,{firstChunkSize:4e4,ifd0:[274]}),Ot=c({},nt,{tiff:!1,ifd1:!0,mergeOutput:!1}),At=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});if(s.rotateCanvas=!0,s.rotateCss=!0,typeof navigator=="object"){var We=navigator.userAgent;if(We.includes("iPad")||We.includes("iPhone")){var dt=We.match(/OS (\d+)_(\d+)/);if(dt){var Wt=dt[1],Gt=dt[2],Kt=Number(Wt)+.1*Number(Gt);s.rotateCanvas=Kt<13.4,s.rotateCss=!1}}else if(We.includes("OS X 10")){var Xt=We.match(/OS X 10[_.](\d+)/)[1];s.rotateCanvas=s.rotateCss=Number(Xt)<15}if(We.includes("Chrome/")){var Yt=We.match(/Chrome\/(\d+)/)[1];s.rotateCanvas=s.rotateCss=Number(Yt)<81}else if(We.includes("Firefox/")){var qt=We.match(/Firefox\/(\d+)/)[1];s.rotateCanvas=s.rotateCss=Number(qt)<77}}function Qt(){}var Jt=function(d){p(i,d);var r=G(i);function i(){var e;u(this,i);for(var t=arguments.length,o=new Array(t),x=0;x<t;x++)o[x]=arguments[x];return g(b(e=r.call.apply(r,[this].concat(o))),"ranges",new Zt),e.byteLength!==0&&e.ranges.add(0,e.byteLength),e}return f(i,[{key:"_tryExtend",value:function(e,t,o){if(e===0&&this.byteLength===0&&o){var x=new DataView(o.buffer||o,o.byteOffset,o.byteLength);this._swapDataView(x)}else{var C=e+t;if(C>this.byteLength){var $=this._extend(C).dataView;this._swapDataView($)}}}},{key:"_extend",value:function(e){var t;t=he?le.allocUnsafe(e):new Uint8Array(e);var o=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:o}}},{key:"subarray",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t=t||this._lengthToEnd(e),o&&this._tryExtend(e,t),this.ranges.add(e,t),z(m(i.prototype),"subarray",this).call(this,e,t)}},{key:"set",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o&&this._tryExtend(t,e.byteLength,e);var x=z(m(i.prototype),"set",this).call(this,e,t);return this.ranges.add(t,x.byteLength),x}},{key:"ensureChunk",value:function(e,t){try{var o=this;return!o.chunked||o.ranges.available(e,t)?void 0:function(x,C){if(!C)return x&&x.then?x.then(Qt):Promise.resolve()}(o.readChunk(e,t))}catch(x){return Promise.reject(x)}}},{key:"available",value:function(e,t){return this.ranges.available(e,t)}}]),i}(X),Zt=function(){function d(){u(this,d),g(this,"list",[])}return f(d,[{key:"length",get:function(){return this.list.length}},{key:"add",value:function(r,i){var e=r+i,t=this.list.filter(function(x){return Et(r,x.offset,e)||Et(r,x.end,e)});if(t.length>0){r=Math.min.apply(Math,[r].concat(t.map(function(x){return x.offset}))),i=(e=Math.max.apply(Math,[e].concat(t.map(function(x){return x.end}))))-r;var o=t.shift();o.offset=r,o.length=i,o.end=e,this.list=this.list.filter(function(x){return!t.includes(x)})}else this.list.push({offset:r,length:i,end:e})}},{key:"available",value:function(r,i){var e=r+i;return this.list.some(function(t){return t.offset<=r&&e<=t.end})}}]),d}();function Et(d,r,i){return d<=r&&r<=i}function es(){}function Tt(d,r){if(!r)return d&&d.then?d.then(es):Promise.resolve()}function _t(d,r,i){return i?r?r(d):d:(d&&d.then||(d=Promise.resolve(d)),r?d.then(r):d)}var ts=function(d){p(i,d);var r=G(i);function i(){return u(this,i),r.apply(this,arguments)}return f(i,[{key:"readWhole",value:function(){try{var e=this;return e.chunked=!1,_t(oe(e.input),function(t){e._swapArrayBuffer(t)})}catch(t){return Promise.reject(t)}}},{key:"readChunked",value:function(){return this.chunked=!0,this.size=this.input.size,z(m(i.prototype),"readChunked",this).call(this)}},{key:"_readChunk",value:function(e,t){try{var o=this,x=t?e+t:void 0,C=o.input.slice(e,x);return _t(oe(C),function($){return o.set($,e,!0)})}catch($){return Promise.reject($)}}}]),i}(function(d){p(i,d);var r=G(i);function i(e,t){var o;return u(this,i),g(b(o=r.call(this,0)),"chunksRead",0),o.input=e,o.options=t,o}return f(i,[{key:"readWhole",value:function(){try{var e=this;return e.chunked=!1,Tt(e.readChunk(e.nextChunkOffset))}catch(t){return Promise.reject(t)}}},{key:"readChunked",value:function(){try{var e=this;return e.chunked=!0,Tt(e.readChunk(0,e.options.firstChunkSize))}catch(t){return Promise.reject(t)}}},{key:"readNextChunk",value:function(e){try{var t=this;if(e===void 0&&(e=t.nextChunkOffset),t.fullyRead)return t.chunksRead++,!1;var o=t.options.chunkSize;return x=t.readChunk(e,o),C=function(Z){return!!Z&&Z.byteLength===o},$?C?C(x):x:(x&&x.then||(x=Promise.resolve(x)),C?x.then(C):x)}catch(Z){return Promise.reject(Z)}var x,C,$}},{key:"readChunk",value:function(e,t){try{var o=this;return o.chunksRead++,(t=o.safeWrapAddress(e,t))===0?void 0:o._readChunk(e,t)}catch(x){return Promise.reject(x)}}},{key:"safeWrapAddress",value:function(e,t){return this.size!==void 0&&e+t>this.size?Math.max(0,this.size-e):t}},{key:"nextChunkOffset",get:function(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}},{key:"canReadNextChunk",get:function(){return this.chunksRead<this.options.chunkLimit}},{key:"fullyRead",get:function(){return this.size!==void 0&&this.nextChunkOffset===this.size}},{key:"read",value:function(){return this.options.chunked?this.readChunked():this.readWhole()}},{key:"close",value:function(){}}]),i}(Jt));w.set("blob",ts),s.Exifr=qe,s.Options=Ue,s.allFormatters=ve,s.chunkedProps=I,s.createDictionary=Fe,s.default=zt,s.disableAllOptions=nt,s.extendDictionary=Le,s.fetchUrlAsArrayBuffer=de,s.fileParsers=E,s.fileReaders=w,s.gps=$t,s.gpsOnlyOptions=St,s.inheritables=Se,s.orientation=Pt,s.orientationOnlyOptions=Ft,s.otherSegments=L,s.parse=ot,s.readBlobAsArrayBuffer=oe,s.rotation=function(d){return Ge(Pt(d),function(r){return c({canvas:s.rotateCanvas,css:s.rotateCss},At[r])})},s.rotations=At,s.segmentParsers=a,s.segments=q,s.segmentsAndBlocks=ue,s.tagKeys=xe,s.tagRevivers=Be,s.tagValues=Ne,s.thumbnail=Vt,s.thumbnailOnlyOptions=Ot,s.thumbnailUrl=Ht,s.tiffBlocks=se,s.tiffExtractables=Te,Object.defineProperty(s,"__esModule",{value:!0})})},7426:function(N){N.exports=function(n,s){if(n===s)return!0;for(var u in n)if(!(u in s))return!1;for(var u in s)if(n[u]!==s[u])return!1;return!0}},1849:function(N,D,n){var s="Expected a function",u=0/0,S="[object Symbol]",f=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,l=parseInt,U=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g,k=typeof self=="object"&&self&&self.Object===Object&&self,F=U||k||Function("return this")(),b=Object.prototype,P=b.toString,G=Math.max,z=Math.min,_=function(){return F.Date.now()};function y(V,W,Q){var T,M,K,ie,Y,J,le=0,he=!1,be=!1,pe=!0;if(typeof V!="function")throw new TypeError(s);W=te(W)||0,c(Q)&&(he=!!Q.leading,be="maxWait"in Q,K=be?G(te(Q.maxWait)||0,W):K,pe="trailing"in Q?!!Q.trailing:pe);function ge(a){var w=T,R=M;return T=M=void 0,le=a,ie=V.apply(R,w),ie}function ke(a){return le=a,Y=setTimeout(H,W),he?ge(a):ie}function Ae(a){var w=a-J,R=a-le,B=W-w;return be?z(B,K-R):B}function we(a){var w=a-J,R=a-le;return J===void 0||w>=W||w<0||be&&R>=K}function H(){var a=_();if(we(a))return X(a);Y=setTimeout(H,Ae(a))}function X(a){return Y=void 0,pe&&T?ge(a):(T=M=void 0,ie)}function re(){Y!==void 0&&clearTimeout(Y),le=0,T=J=M=Y=void 0}function v(){return Y===void 0?ie:X(_())}function E(){var a=_(),w=we(a);if(T=arguments,M=this,J=a,w){if(Y===void 0)return ke(J);if(be)return Y=setTimeout(H,W),ge(J)}return Y===void 0&&(Y=setTimeout(H,W)),ie}return E.cancel=re,E.flush=v,E}function c(V){var W=typeof V;return!!V&&(W=="object"||W=="function")}function O(V){return!!V&&typeof V=="object"}function A(V){return typeof V=="symbol"||O(V)&&P.call(V)==S}function te(V){if(typeof V=="number")return V;if(A(V))return u;if(c(V)){var W=typeof V.valueOf=="function"?V.valueOf():V;V=c(W)?W+"":W}if(typeof V!="string")return V===0?V:+V;V=V.replace(f,"");var Q=p.test(V);return Q||m.test(V)?l(V.slice(2),Q?2:8):g.test(V)?u:+V}N.exports=y},6818:function(N,D,n){var s="Expected a function",u=0/0,S="[object Symbol]",f=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,l=parseInt,U=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g,k=typeof self=="object"&&self&&self.Object===Object&&self,F=U||k||Function("return this")(),b=Object.prototype,P=b.toString,G=Math.max,z=Math.min,_=function(){return F.Date.now()};function y(W,Q,T){var M,K,ie,Y,J,le,he=0,be=!1,pe=!1,ge=!0;if(typeof W!="function")throw new TypeError(s);Q=V(Q)||0,O(T)&&(be=!!T.leading,pe="maxWait"in T,ie=pe?G(V(T.maxWait)||0,Q):ie,ge="trailing"in T?!!T.trailing:ge);function ke(w){var R=M,B=K;return M=K=void 0,he=w,Y=W.apply(B,R),Y}function Ae(w){return he=w,J=setTimeout(X,Q),be?ke(w):Y}function we(w){var R=w-le,B=w-he,oe=Q-R;return pe?z(oe,ie-B):oe}function H(w){var R=w-le,B=w-he;return le===void 0||R>=Q||R<0||pe&&B>=ie}function X(){var w=_();if(H(w))return re(w);J=setTimeout(X,we(w))}function re(w){return J=void 0,ge&&M?ke(w):(M=K=void 0,Y)}function v(){J!==void 0&&clearTimeout(J),he=0,M=le=K=J=void 0}function E(){return J===void 0?Y:re(_())}function a(){var w=_(),R=H(w);if(M=arguments,K=this,le=w,R){if(J===void 0)return Ae(le);if(pe)return J=setTimeout(X,Q),ke(le)}return J===void 0&&(J=setTimeout(X,Q)),Y}return a.cancel=v,a.flush=E,a}function c(W,Q,T){var M=!0,K=!0;if(typeof W!="function")throw new TypeError(s);return O(T)&&(M="leading"in T?!!T.leading:M,K="trailing"in T?!!T.trailing:K),y(W,Q,{leading:M,maxWait:Q,trailing:K})}function O(W){var Q=typeof W;return!!W&&(Q=="object"||Q=="function")}function A(W){return!!W&&typeof W=="object"}function te(W){return typeof W=="symbol"||A(W)&&P.call(W)==S}function V(W){if(typeof W=="number")return W;if(te(W))return u;if(O(W)){var Q=typeof W.valueOf=="function"?W.valueOf():W;W=O(Q)?Q+"":Q}if(typeof W!="string")return W===0?W:+W;W=W.replace(f,"");var T=p.test(W);return T||m.test(W)?l(W.slice(2),T?2:8):g.test(W)?u:+W}N.exports=c},6637:function(N,D,n){"use strict";n.r(D);var s=Number.isNaN||function(p){return typeof p=="number"&&p!==p};function u(g,p){return!!(g===p||s(g)&&s(p))}function S(g,p){if(g.length!==p.length)return!1;for(var m=0;m<g.length;m++)if(!u(g[m],p[m]))return!1;return!0}function f(g,p){p===void 0&&(p=S);var m,l=[],U,k=!1;function F(){for(var b=[],P=0;P<arguments.length;P++)b[P]=arguments[P];return k&&m===this&&p(b,l)||(U=g.apply(this,b),k=!0,m=this,l=b),U}return F}D.default=f},8385:function(N,D,n){var s=n(154),u=/[\/\+\.]/;N.exports=function(S,f){function g(p){var m=s(p,S,u);return m&&m.length>=2}return f?g(f.split(";")[0]):g}},4944:function(N){N.exports=function(){var n={},s=n._fns={};n.emit=function(g,p,m,l,U,k,F){var b=u(g);b.length&&S(g,b,[p,m,l,U,k,F])},n.on=function(g,p){s[g]||(s[g]=[]),s[g].push(p)},n.once=function(g,p){function m(){p.apply(this,arguments),n.off(g,m)}this.on(g,m)},n.off=function(g,p){var m=[];if(g&&p){var l=this._fns[g],U=0,k=l?l.length:0;for(U;U<k;U++)l[U]!==p&&m.push(l[U])}m.length?this._fns[g]=m:delete this._fns[g]};function u(f){var g=s[f]?s[f]:[],p=f.indexOf(":"),m=p===-1?[f]:[f.substring(0,p),f.substring(p+1)],l=Object.keys(s),U=0,k=l.length;for(U;U<k;U++){var F=l[U];if(F==="*"&&(g=g.concat(s[F])),m.length===2&&m[0]===F){g=g.concat(s[F]);break}}return g}function S(f,g,p){var m=0,l=g.length;for(m;m<l&&g[m];m++)g[m].event=f,g[m].apply(g[m],p)}return n}},3233:function(N,D,n){"use strict";n.r(D),n.d(D,{render:function(){return we},hydrate:function(){return H},createElement:function(){return G},h:function(){return G},Fragment:function(){return y},createRef:function(){return _},isValidElement:function(){return f},Component:function(){return c},cloneElement:function(){return X},createContext:function(){return re},toChildArray:function(){return T},options:function(){return u}});var s,u,S,f,g,p,m,l,U={},k=[],F=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function b(v,E){for(var a in E)v[a]=E[a];return v}function P(v){var E=v.parentNode;E&&E.removeChild(v)}function G(v,E,a){var w,R,B,oe={};for(B in E)B=="key"?w=E[B]:B=="ref"?R=E[B]:oe[B]=E[B];if(arguments.length>2&&(oe.children=arguments.length>3?s.call(arguments,2):a),typeof v=="function"&&v.defaultProps!=null)for(B in v.defaultProps)oe[B]===void 0&&(oe[B]=v.defaultProps[B]);return z(v,oe,w,R,null)}function z(v,E,a,w,R){var B={type:v,props:E,key:a,ref:w,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:R??++S};return u.vnode!=null&&u.vnode(B),B}function _(){return{current:null}}function y(v){return v.children}function c(v,E){this.props=v,this.context=E}function O(v,E){if(E==null)return v.__?O(v.__,v.__.__k.indexOf(v)+1):null;for(var a;E<v.__k.length;E++)if((a=v.__k[E])!=null&&a.__e!=null)return a.__e;return typeof v.type=="function"?O(v):null}function A(v){var E,a;if((v=v.__)!=null&&v.__c!=null){for(v.__e=v.__c.base=null,E=0;E<v.__k.length;E++)if((a=v.__k[E])!=null&&a.__e!=null){v.__e=v.__c.base=a.__e;break}return A(v)}}function te(v){(!v.__d&&(v.__d=!0)&&g.push(v)&&!V.__r++||m!==u.debounceRendering)&&((m=u.debounceRendering)||p)(V)}function V(){for(var v;V.__r=g.length;)v=g.sort(function(E,a){return E.__v.__b-a.__v.__b}),g=[],v.some(function(E){var a,w,R,B,oe,de;E.__d&&(oe=(B=(a=E).__v).__e,(de=a.__P)&&(w=[],(R=b({},B)).__v=B.__v+1,he(de,B,R,a.__n,de.ownerSVGElement!==void 0,B.__h!=null?[oe]:null,w,oe??O(B),B.__h),be(w,B),B.__e!=oe&&A(B)))})}function W(v,E,a,w,R,B,oe,de,ce,fe){var j,_e,Pe,me,Fe,Le,xe,Ne=w&&w.__k||k,Be=Ne.length;for(a.__k=[],j=0;j<E.length;j++)if((me=a.__k[j]=(me=E[j])==null||typeof me=="boolean"?null:typeof me=="string"||typeof me=="number"||typeof me=="bigint"?z(null,me,null,null,me):Array.isArray(me)?z(y,{children:me},null,null,null):me.__b>0?z(me.type,me.props,me.key,null,me.__v):me)!=null){if(me.__=a,me.__b=a.__b+1,(Pe=Ne[j])===null||Pe&&me.key==Pe.key&&me.type===Pe.type)Ne[j]=void 0;else for(_e=0;_e<Be;_e++){if((Pe=Ne[_e])&&me.key==Pe.key&&me.type===Pe.type){Ne[_e]=void 0;break}Pe=null}he(v,me,Pe=Pe||U,R,B,oe,de,ce,fe),Fe=me.__e,(_e=me.ref)&&Pe.ref!=_e&&(xe||(xe=[]),Pe.ref&&xe.push(Pe.ref,null,me),xe.push(_e,me.__c||Fe,me)),Fe!=null?(Le==null&&(Le=Fe),typeof me.type=="function"&&me.__k!=null&&me.__k===Pe.__k?me.__d=ce=Q(me,ce,v):ce=M(v,me,Pe,Ne,Fe,ce),fe||a.type!=="option"?typeof a.type=="function"&&(a.__d=ce):v.value=""):ce&&Pe.__e==ce&&ce.parentNode!=v&&(ce=O(Pe))}for(a.__e=Le,j=Be;j--;)Ne[j]!=null&&(typeof a.type=="function"&&Ne[j].__e!=null&&Ne[j].__e==a.__d&&(a.__d=O(w,j+1)),ke(Ne[j],Ne[j]));if(xe)for(j=0;j<xe.length;j++)ge(xe[j],xe[++j],xe[++j])}function Q(v,E,a){var w,R;for(w=0;w<v.__k.length;w++)(R=v.__k[w])&&(R.__=v,E=typeof R.type=="function"?Q(R,E,a):M(a,R,R,v.__k,R.__e,E));return E}function T(v,E){return E=E||[],v==null||typeof v=="boolean"||(Array.isArray(v)?v.some(function(a){T(a,E)}):E.push(v)),E}function M(v,E,a,w,R,B){var oe,de,ce;if(E.__d!==void 0)oe=E.__d,E.__d=void 0;else if(a==null||R!=B||R.parentNode==null)e:if(B==null||B.parentNode!==v)v.appendChild(R),oe=null;else{for(de=B,ce=0;(de=de.nextSibling)&&ce<w.length;ce+=2)if(de==R)break e;v.insertBefore(R,B),oe=B}return oe!==void 0?oe:R.nextSibling}function K(v,E,a,w,R){var B;for(B in a)B==="children"||B==="key"||B in E||Y(v,B,null,a[B],w);for(B in E)R&&typeof E[B]!="function"||B==="children"||B==="key"||B==="value"||B==="checked"||a[B]===E[B]||Y(v,B,E[B],a[B],w)}function ie(v,E,a){E[0]==="-"?v.setProperty(E,a):v[E]=a==null?"":typeof a!="number"||F.test(E)?a:a+"px"}function Y(v,E,a,w,R){var B;e:if(E==="style")if(typeof a=="string")v.style.cssText=a;else{if(typeof w=="string"&&(v.style.cssText=w=""),w)for(E in w)a&&E in a||ie(v.style,E,"");if(a)for(E in a)w&&a[E]===w[E]||ie(v.style,E,a[E])}else if(E[0]==="o"&&E[1]==="n")B=E!==(E=E.replace(/Capture$/,"")),E=E.toLowerCase()in v?E.toLowerCase().slice(2):E.slice(2),v.l||(v.l={}),v.l[E+B]=a,a?w||v.addEventListener(E,B?le:J,B):v.removeEventListener(E,B?le:J,B);else if(E!=="dangerouslySetInnerHTML"){if(R)E=E.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(E!=="href"&&E!=="list"&&E!=="form"&&E!=="tabIndex"&&E!=="download"&&E in v)try{v[E]=a??"";break e}catch(oe){}typeof a=="function"||(a!=null&&(a!==!1||E[0]==="a"&&E[1]==="r")?v.setAttribute(E,a):v.removeAttribute(E))}}function J(v){this.l[v.type+!1](u.event?u.event(v):v)}function le(v){this.l[v.type+!0](u.event?u.event(v):v)}function he(v,E,a,w,R,B,oe,de,ce){var fe,j,_e,Pe,me,Fe,Le,xe,Ne,Be,je,De=E.type;if(E.constructor!==void 0)return null;a.__h!=null&&(ce=a.__h,de=E.__e=a.__e,E.__h=null,B=[de]),(fe=u.__b)&&fe(E);try{e:if(typeof De=="function"){if(xe=E.props,Ne=(fe=De.contextType)&&w[fe.__c],Be=fe?Ne?Ne.props.value:fe.__:w,a.__c?Le=(j=E.__c=a.__c).__=j.__E:("prototype"in De&&De.prototype.render?E.__c=j=new De(xe,Be):(E.__c=j=new c(xe,Be),j.constructor=De,j.render=Ae),Ne&&Ne.sub(j),j.props=xe,j.state||(j.state={}),j.context=Be,j.__n=w,_e=j.__d=!0,j.__h=[]),j.__s==null&&(j.__s=j.state),De.getDerivedStateFromProps!=null&&(j.__s==j.state&&(j.__s=b({},j.__s)),b(j.__s,De.getDerivedStateFromProps(xe,j.__s))),Pe=j.props,me=j.state,_e)De.getDerivedStateFromProps==null&&j.componentWillMount!=null&&j.componentWillMount(),j.componentDidMount!=null&&j.__h.push(j.componentDidMount);else{if(De.getDerivedStateFromProps==null&&xe!==Pe&&j.componentWillReceiveProps!=null&&j.componentWillReceiveProps(xe,Be),!j.__e&&j.shouldComponentUpdate!=null&&j.shouldComponentUpdate(xe,j.__s,Be)===!1||E.__v===a.__v){j.props=xe,j.state=j.__s,E.__v!==a.__v&&(j.__d=!1),j.__v=E,E.__e=a.__e,E.__k=a.__k,E.__k.forEach(function(Me){Me&&(Me.__=E)}),j.__h.length&&oe.push(j);break e}j.componentWillUpdate!=null&&j.componentWillUpdate(xe,j.__s,Be),j.componentDidUpdate!=null&&j.__h.push(function(){j.componentDidUpdate(Pe,me,Fe)})}j.context=Be,j.props=xe,j.state=j.__s,(fe=u.__r)&&fe(E),j.__d=!1,j.__v=E,j.__P=v,fe=j.render(j.props,j.state,j.context),j.state=j.__s,j.getChildContext!=null&&(w=b(b({},w),j.getChildContext())),_e||j.getSnapshotBeforeUpdate==null||(Fe=j.getSnapshotBeforeUpdate(Pe,me)),je=fe!=null&&fe.type===y&&fe.key==null?fe.props.children:fe,W(v,Array.isArray(je)?je:[je],E,a,w,R,B,oe,de,ce),j.base=E.__e,E.__h=null,j.__h.length&&oe.push(j),Le&&(j.__E=j.__=null),j.__e=!1}else B==null&&E.__v===a.__v?(E.__k=a.__k,E.__e=a.__e):E.__e=pe(a.__e,E,a,w,R,B,oe,ce);(fe=u.diffed)&&fe(E)}catch(Me){E.__v=null,(ce||B!=null)&&(E.__e=de,E.__h=!!ce,B[B.indexOf(de)]=null),u.__e(Me,E,a)}}function be(v,E){u.__c&&u.__c(E,v),v.some(function(a){try{v=a.__h,a.__h=[],v.some(function(w){w.call(a)})}catch(w){u.__e(w,a.__v)}})}function pe(v,E,a,w,R,B,oe,de){var ce,fe,j,_e=a.props,Pe=E.props,me=E.type,Fe=0;if(me==="svg"&&(R=!0),B!=null){for(;Fe<B.length;Fe++)if((ce=B[Fe])&&(ce===v||(me?ce.localName==me:ce.nodeType==3))){v=ce,B[Fe]=null;break}}if(v==null){if(me===null)return document.createTextNode(Pe);v=R?document.createElementNS("http://www.w3.org/2000/svg",me):document.createElement(me,Pe.is&&Pe),B=null,de=!1}if(me===null)_e===Pe||de&&v.data===Pe||(v.data=Pe);else{if(B=B&&s.call(v.childNodes),fe=(_e=a.props||U).dangerouslySetInnerHTML,j=Pe.dangerouslySetInnerHTML,!de){if(B!=null)for(_e={},Fe=0;Fe<v.attributes.length;Fe++)_e[v.attributes[Fe].name]=v.attributes[Fe].value;(j||fe)&&(j&&(fe&&j.__html==fe.__html||j.__html===v.innerHTML)||(v.innerHTML=j&&j.__html||""))}if(K(v,Pe,_e,R,de),j)E.__k=[];else if(Fe=E.props.children,W(v,Array.isArray(Fe)?Fe:[Fe],E,a,w,R&&me!=="foreignObject",B,oe,B?B[0]:a.__k&&O(a,0),de),B!=null)for(Fe=B.length;Fe--;)B[Fe]!=null&&P(B[Fe]);de||("value"in Pe&&(Fe=Pe.value)!==void 0&&(Fe!==v.value||me==="progress"&&!Fe)&&Y(v,"value",Fe,_e.value,!1),"checked"in Pe&&(Fe=Pe.checked)!==void 0&&Fe!==v.checked&&Y(v,"checked",Fe,_e.checked,!1))}return v}function ge(v,E,a){try{typeof v=="function"?v(E):v.current=E}catch(w){u.__e(w,a)}}function ke(v,E,a){var w,R;if(u.unmount&&u.unmount(v),(w=v.ref)&&(w.current&&w.current!==v.__e||ge(w,null,E)),(w=v.__c)!=null){if(w.componentWillUnmount)try{w.componentWillUnmount()}catch(B){u.__e(B,E)}w.base=w.__P=null}if(w=v.__k)for(R=0;R<w.length;R++)w[R]&&ke(w[R],E,typeof v.type!="function");a||v.__e==null||P(v.__e),v.__e=v.__d=void 0}function Ae(v,E,a){return this.constructor(v,a)}function we(v,E,a){var w,R,B;u.__&&u.__(v,E),R=(w=typeof a=="function")?null:a&&a.__k||E.__k,B=[],he(E,v=(!w&&a||E).__k=G(y,null,[v]),R||U,U,E.ownerSVGElement!==void 0,!w&&a?[a]:R?null:E.firstChild?s.call(E.childNodes):null,B,!w&&a?a:R?R.__e:E.firstChild,w),be(B,v)}function H(v,E){we(v,E,H)}function X(v,E,a){var w,R,B,oe=b({},v.props);for(B in E)B=="key"?w=E[B]:B=="ref"?R=E[B]:oe[B]=E[B];return arguments.length>2&&(oe.children=arguments.length>3?s.call(arguments,2):a),z(v.type,oe,w||v.key,R||v.ref,null)}function re(v,E){var a={__c:E="__cC"+l++,__:v,Consumer:function(w,R){return w.children(R)},Provider:function(w){var R,B;return this.getChildContext||(R=[],(B={})[E]=this,this.getChildContext=function(){return B},this.shouldComponentUpdate=function(oe){this.props.value!==oe.value&&R.some(te)},this.sub=function(oe){R.push(oe);var de=oe.componentWillUnmount;oe.componentWillUnmount=function(){R.splice(R.indexOf(oe),1),de&&de.call(oe)}}),w.children}};return a.Provider.__=a.Consumer.contextType=a}s=k.slice,u={__e:function(v,E){for(var a,w,R;E=E.__;)if((a=E.__c)&&!a.__)try{if((w=a.constructor)&&w.getDerivedStateFromError!=null&&(a.setState(w.getDerivedStateFromError(v)),R=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(v),R=a.__d),R)return a.__E=a}catch(B){v=B}throw v}},S=0,f=function(v){return v!=null&&v.constructor===void 0},c.prototype.setState=function(v,E){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=b({},this.state),typeof v=="function"&&(v=v(b({},a),this.props)),v&&b(a,v),v!=null&&this.__v&&(E&&this.__h.push(E),te(this))},c.prototype.forceUpdate=function(v){this.__v&&(this.__e=!0,v&&this.__h.push(v),te(this))},c.prototype.render=y,g=[],p=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,V.__r=0,l=0},154:function(N){"use strict";function D(n,s){this.text=n=n||"",this.hasWild=~n.indexOf("*"),this.separator=s,this.parts=n.split(s)}D.prototype.match=function(n){var s=!0,u=this.parts,S,f=u.length,g;if(typeof n=="string"||n instanceof String)if(!this.hasWild&&this.text!=n)s=!1;else{for(g=(n||"").split(this.separator),S=0;s&&S<f;S++)u[S]!=="*"&&(S<g.length?s=u[S]===g[S]:s=!1);s=s&&g}else if(typeof n.splice=="function")for(s=[],S=n.length;S--;)this.match(n[S])&&(s[s.length]=n[S]);else if(typeof n=="object"){s={};for(var p in n)this.match(p)&&(s[p]=n[p])}return s},N.exports=function(n,s,u){var S=new D(n,u||/[\/\.]/);return typeof s!="undefined"?S.match(s):S}},4374:function(N,D,n){"use strict";n.r(D),n.d(D,{customAlphabet:function(){return f},customRandom:function(){return S},nanoid:function(){return g},random:function(){return u},urlAlphabet:function(){return s}});let s="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",u=p=>crypto.getRandomValues(new Uint8Array(p)),S=(p,m,l)=>{let U=(2<<Math.log(p.length-1)/Math.LN2)-1,k=-~(1.6*U*m/p.length);return(F=m)=>{let b="";for(;;){let P=l(k),G=k;for(;G--;)if(b+=p[P[G]&U]||"",b.length===F)return b}}},f=(p,m=21)=>S(p,m,u),g=(p=21)=>crypto.getRandomValues(new Uint8Array(p)).reduce((m,l)=>(l&=63,l<36?m+=l.toString(36):l<62?m+=(l-26).toString(36).toUpperCase():l>62?m+="-":m+="_",m),"")}}]);
